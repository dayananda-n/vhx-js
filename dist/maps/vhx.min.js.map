{"version":3,"sources":["vhx.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_VHX_DEFAULTS","HOST","PROTOCOL","API_VERSION","version","TIMEOUT","TOKEN_HOST","../package.json","2","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","Paginate","resource","args","this","_this","response","body","options","page","method","last","Math","ceil","total","count","map","callback","goToPage","num","merge","_embedded","object","concat","value","parseInt","3","_typeof","Symbol","iterator","obj","constructor","request","paginate","Resource","api","path","methods","isToken","_api","init","forEach","item","getMethod","type","getType","params","http_method","client_method","match","b","c","isCallbackFunction","id","parseHref","scope","makeRequest","isObject","href","val","indexOf","host","substr","split","cb","protocol","window","location","post","set","$","attr","then","data","token","console","log","Date","getTime","url","timeout","auth","headers","Authorization","qs","getParams","undefined","getToken","ajaxRequest","withCredentials","query","end","err","errorHandler","status","statusCode","successHandler","get","error","JSON","parse","error_types","400","401","404","408","500","apply","./paginate","superagent","4","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","Browse","_Resource","getPrototypeOf","../resource","5","Collection","6","Customer","7","Product","8","Video","9","_interopRequireDefault","__esModule","default","_defaults","_defaults2","_collections","_collections2","_videos","_videos2","_customers","_customers2","_products","_products2","_browse","_browse2","resources","collections","videos","products","customer","browse","vhx","setApi","setToken","prepareResources","btoa","token_host","name","toLowerCase","substring","./defaults","./resources/browse","./resources/collections","./resources/customers","./resources/products","./resources/videos","10","noop","serialize","pairs","pushEncodedKeyValuePair","join","Array","isArray","v","subkey","push","encodeURIComponent","parseString","str","pair","pos","len","decodeURIComponent","slice","parseHeader","index","line","field","lines","fields","pop","trim","isJSON","mime","test","shift","reduce","parts","Response","req","xhr","text","responseType","responseText","statusText","_setStatusProperties","header","getAllResponseHeaders","getResponseHeader","_setHeaderProperties","_parseBody","Request","_query","_header","on","res","original","rawResponse","emit","new_err","del","fn","root","warn","Emitter","requestBase","bind","getXHR","XMLHttpRequest","ActiveXObject","replace","serializeObject","types","html","json","xml","urlencoded","form","form-data","application/x-www-form-urlencoded","application/json","stringify","ct","statusType","info","ok","clientError","serverError","toError","accepted","noContent","badRequest","unauthorized","notAcceptable","notFound","forbidden","msg","_responseType","accept","user","pass","username","password","attach","file","filename","_getFormData","append","_formData","FormData","_callback","clearTimeout","crossDomainError","crossDomain","_timeoutError","_timeout","_appendQueryString","_data","onreadystatechange","readyState","timedout","_aborted","handleProgress","percent","loaded","direction","hasListeners","onprogress","upload","_timer","setTimeout","abort","open","_withCredentials","_isHost","contentType","_serializer","setRequestHeader","send","head","patch","put","./is-object","./request","./request-base","emitter","11","12","_parser","ms","resolve","reject","_fullfilledPromise","Promise","innerResolve","innerReject","use","getHeader","unset","redirects","_maxRedirects","toJSON","toString","13","RequestConstructor","arguments","14","mixin","addEventListener","event","_callbacks","once","off","removeListener","removeAllListeners","removeEventListener","callbacks","splice","listeners","15","description","main","author","homepage","contributors","license","repository","bugs:","devDependencies","babel-cli","babel-preset-es2015","babelify","browserify","gulp","gulp-babel","gulp-browserify","gulp-livereload","gulp-sourcemaps","gulp-uglify","vinyl-buffer","vinyl-source-stream"],"mappings":"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","file":"vhx.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _VHX_DEFAULTS = {\n  HOST: 'api.vhx.tv',\n  PROTOCOL: 'https://',\n  API_VERSION: require('../package.json').version,\n  TIMEOUT: '30000',\n  TOKEN_HOST: 'vhx.tv'\n};\n\nmodule.exports = _VHX_DEFAULTS;\n\n},{\"../package.json\":15}],2:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Paginate = function () {\n  function Paginate(resource, args) {\n    _classCallCheck(this, Paginate);\n\n    var _this = this;\n\n    _this.resource = resource;\n    _this.response = args.body;\n    _this.options = args.options;\n    _this.page = _this.options.page ? _this.options.page : 1;\n    _this.method = args.method;\n    _this.last = Math.ceil(args.body.total / (args.body.count * _this.page));\n\n    ['nextPage', 'previousPage', 'firstPage', 'lastPage'].map(function (key) {\n      _this.response[key] = function (callback) {\n        _this[key](_this, callback);\n      };\n    });\n\n    _this.response.goToPage = function (num, callback) {\n      _this.goToPage(_this, num, callback);\n    };\n\n    _this.response.merge = function (_this) {\n      _this._embedded[_this.object] = this._embedded[_this.object].concat(_this._embedded[_this.object]);\n      _this.count = this.count + _this.count;\n\n      return _this;\n    };\n  }\n\n  _createClass(Paginate, [{\n    key: 'get',\n    value: function get() {\n      var _this = this;\n\n      return _this.response;\n    }\n  }, {\n    key: 'nextPage',\n    value: function nextPage(_this, callback) {\n      _this.options.page = _this.page + 1;\n\n      if (_this.options.page > _this.last) {\n        throw 'No more pages to request';\n      }\n\n      _this.resource[_this.method](_this.options, callback);\n    }\n  }, {\n    key: 'previousPage',\n    value: function previousPage(_this, callback) {\n      if (_this.page === 1) {\n        throw 'No previous pages to request';\n      }\n\n      _this.options.page = _this.page - 1;\n      _this.resource[_this.method](_this.options, callback);\n    }\n  }, {\n    key: 'firstPage',\n    value: function firstPage(_this, callback) {\n      _this.options.page = 1;\n      _this.resource[_this.method](_this.options, callback);\n    }\n  }, {\n    key: 'lastPage',\n    value: function lastPage(_this, callback) {\n      _this.options.page = _this.last;\n      _this.resource[_this.method](_this.options, callback);\n    }\n  }, {\n    key: 'goToPage',\n    value: function goToPage(_this, num, callback) {\n      num = parseInt(num, 10);\n\n      if (num > 0 && num <= _this.last) {\n        _this.options.page = num;\n        return _this.resource[_this.method](_this.options, callback);\n      }\n\n      throw 'You must pass a valid page number';\n    }\n  }]);\n\n  return Paginate;\n}();\n\nmodule.exports = Paginate;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar request = require('superagent');\nvar paginate = require('./paginate');\n\nvar Resource = function () {\n  function Resource(api, path, methods, isToken) {\n    _classCallCheck(this, Resource);\n\n    var _this = this;\n    _this._api = api;\n    _this.methods = methods;\n    _this.path = path;\n\n    _this.init();\n  }\n\n  _createClass(Resource, [{\n    key: 'init',\n    value: function init() {\n      var _this = this;\n\n      _this.methods.forEach(function (item) {\n        var method = _this.getMethod(item),\n            type = _this.getType(_this.path),\n            params = {\n          http_method: 'get', // superagent reads 'get' not 'GET'\n          client_method: method\n        };\n\n        if (method.match(/retrieve|items|files/i)) {\n          _this[method] = function (a, b, c) {\n            if (a[type]) {\n              if (_this.isCallbackFunction(b)) {\n                params.callback = b;\n              }\n              params.id = _this.parseHref(a[type]);\n              delete a[type];\n              params.options = a;\n            } else {\n              params.id = _this.parseHref(a);\n              if (_this.isCallbackFunction(b)) {\n                params.callback = b;\n              } else {\n                params.options = b;\n                params.callback = c;\n              }\n            }\n\n            params.scope = item.scope ? item.scope : null;\n            _this.makeRequest(params);\n          };\n        } else {\n          _this[method] = function (options, callback) {\n            params.options = options;\n            params.callback = callback;\n\n            _this.makeRequest(params);\n          };\n        }\n      });\n    }\n  }, {\n    key: 'getType',\n    value: function getType(resource) {\n      if (resource === 'collections') {\n        return 'collection';\n      }\n      if (resource === 'customers') {\n        return 'customer';\n      }\n      if (resource === 'videos') {\n        return 'video';\n      }\n\n      return 'id';\n    }\n  }, {\n    key: 'getMethod',\n    value: function getMethod(params) {\n      var _this = this;\n\n      if (_this.isObject(params) && params.method) {\n        return params.method;\n      } else {\n        return params;\n      }\n    }\n  }, {\n    key: 'parseHref',\n    value: function parseHref(href) {\n      var _this = this,\n          val = void 0;\n\n      if (parseInt(href, 10)) {\n        return href;\n      } else if (href.indexOf(_this._api.host) >= 0) {\n        if (href.substr(-1) === '/') {\n          href.substr(0, href.length - 1);\n        }\n        val = href.split('/');\n        return val[val.length - 1];\n      }\n    }\n  }, {\n    key: 'getToken',\n    value: function getToken(cb) {\n      var _this = this;\n      var path = '' + _this._api.protocol + window.location.host + '/tokens';\n\n      request.post(path).set('X-CSRF-Token', $('meta[name=\"csrf-token\"]').attr('content')).then(function (data) {\n        _this._api.token = data.body.token;\n        if (cb) cb();\n      }, function (data) {\n        console.log(data);\n      });\n    }\n  }, {\n    key: 'timeStamp',\n    value: function timeStamp() {\n      return new Date().getTime();\n    }\n  }, {\n    key: 'getParams',\n    value: function getParams(client_method, id, options, scope) {\n      var _this = this,\n          params = {};\n\n      params.url = _this._api.protocol + _this._api.host + '/' + _this.path;\n      params.timeout = _this._api.timeout;\n\n      if (_this._api.auth) {\n        params.headers = {\n          'Authorization': _this._api.auth\n        };\n      }\n\n      params.qs = options || null;\n\n      if (!client_method.match(/^list$|^all$/)) {\n        params.url += '/' + id;\n      }\n\n      if (client_method.match(/items/i)) {\n        params.url += '/items';\n      }\n\n      if (client_method.match(/files/i)) {\n        params.url += '/files';\n      }\n\n      if (scope) {\n        params.url += '/' + scope;\n      }\n\n      return params;\n    }\n  }, {\n    key: 'makeRequest',\n    value: function makeRequest(args) {\n      var _this = this;\n      var params = _this.getParams(args.client_method, args.id || null, args.options, args.scope);\n\n      if (_this.isCallbackFunction(args.options)) {\n        args.callback = args.options;\n      }\n\n      if (_this._api.token !== undefined) {\n        _this.getToken(function () {\n          params.headers = {\n            'Authorization': 'Bearer ' + _this._api.token\n          };\n\n          _this.ajaxRequest(args, params);\n        });\n      } else {\n        _this.ajaxRequest(args, params);\n      }\n    }\n  }, {\n    key: 'ajaxRequest',\n    value: function ajaxRequest(args, params) {\n      var _this = this;\n\n      request[args.http_method](params.url).withCredentials().set(params.headers || {}).set('Content-Type', 'application/json').query(params.qs).end(function (err, response) {\n        if (err && err.code === 'ETIMEDOUT') {\n          _this.errorHandler({\n            status: 408,\n            body: '{\"message\": \"The request timed out.\",\"documentation_url\": \"http://dev.vhx.tv/docs/api\"}',\n            callback: args.callback || ''\n          });\n        }\n\n        if (!err && response.statusCode >= 200 && response.statusCode < 300) {\n          _this.successHandler({\n            body: response.body || null,\n            callback: args.callback,\n            options: args.options,\n            object: _this.path,\n            method: args.client_method\n          });\n        } else {\n          _this.errorHandler({\n            status: 408,\n            body: '{\"message\": \"The request timed out.\",\"documentation_url\": \"http://dev.vhx.tv/docs/api\"}',\n            callback: args.callback || ''\n          });\n        }\n      });\n    }\n  }, {\n    key: 'successHandler',\n    value: function successHandler(args) {\n      var response = args.body;\n\n      if (args.body.count && args.body.count < args.body.total) {\n        response = new paginate(this, args).get();\n      }\n\n      response.object = args.object;\n\n      if (args.callback) {\n        args.callback(false, response);\n      }\n    }\n  }, {\n    key: 'errorHandler',\n    value: function errorHandler(args) {\n      var error = JSON.parse(args.body),\n          error_types = {\n        400: 'VHXInvalidRequestError',\n        401: 'VHXAuthenticationError',\n        404: 'VHXResourceNotFound',\n        408: 'VHXConnectionError',\n        500: 'VHXAPIError'\n      };\n\n      error.status = args.status;\n      error.type = error_types[error.status];\n\n      if (args.callback) {\n        args.callback(error, null);\n      }\n    }\n  }, {\n    key: 'isCallbackFunction',\n    value: function isCallbackFunction(obj) {\n      return !!(obj && obj.constructor && obj.call && obj.apply);\n    }\n  }, {\n    key: 'isObject',\n    value: function isObject(obj) {\n      var type = typeof obj === 'undefined' ? 'undefined' : _typeof(obj);\n      return type === 'function' || type === 'object' && !!obj;\n    }\n  }]);\n\n  return Resource;\n}();\n\n;\n\nmodule.exports = Resource;\n\n},{\"./paginate\":2,\"superagent\":10}],4:[function(require,module,exports){\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Resource = require('../resource');\n\nvar Browse = function (_Resource) {\n  _inherits(Browse, _Resource);\n\n  function Browse(api) {\n    _classCallCheck(this, Browse);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Browse).call(this, api, 'browse', ['all', 'list']));\n  }\n\n  return Browse;\n}(Resource);\n\n;\n\nmodule.exports = Browse;\n\n},{\"../resource\":3}],5:[function(require,module,exports){\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Resource = require('../resource');\n\nvar Collection = function (_Resource) {\n  _inherits(Collection, _Resource);\n\n  function Collection(api) {\n    _classCallCheck(this, Collection);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Collection).call(this, api, 'collections', ['all', 'list', 'items']));\n  }\n\n  return Collection;\n}(Resource);\n\n;\n\nmodule.exports = Collection;\n\n},{\"../resource\":3}],6:[function(require,module,exports){\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Resource = require('../resource');\n\nvar Customer = function (_Resource) {\n  _inherits(Customer, _Resource);\n\n  function Customer(api) {\n    _classCallCheck(this, Customer);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Customer).call(this, api, 'customers', ['retrieve', 'all']));\n  }\n\n  return Customer;\n}(Resource);\n\n;\n\nmodule.exports = Customer;\n\n},{\"../resource\":3}],7:[function(require,module,exports){\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Resource = require('../resource');\n\nvar Product = function (_Resource) {\n  _inherits(Product, _Resource);\n\n  function Product(api) {\n    _classCallCheck(this, Product);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Product).call(this, api, 'products', ['retrieve', 'all']));\n  }\n\n  return Product;\n}(Resource);\n\n;\n\nmodule.exports = Product;\n\n},{\"../resource\":3}],8:[function(require,module,exports){\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Resource = require('../resource');\n\nvar Video = function (_Resource) {\n  _inherits(Video, _Resource);\n\n  function Video(api) {\n    _classCallCheck(this, Video);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Video).call(this, api, 'videos', ['all', 'retrieve', 'files']));\n  }\n\n  return Video;\n}(Resource);\n\n;\n\nmodule.exports = Video;\n\n},{\"../resource\":3}],9:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _defaults = require('./defaults');\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nvar _collections = require('./resources/collections');\n\nvar _collections2 = _interopRequireDefault(_collections);\n\nvar _videos = require('./resources/videos');\n\nvar _videos2 = _interopRequireDefault(_videos);\n\nvar _customers = require('./resources/customers');\n\nvar _customers2 = _interopRequireDefault(_customers);\n\nvar _products = require('./resources/products');\n\nvar _products2 = _interopRequireDefault(_products);\n\nvar _browse = require('./resources/browse');\n\nvar _browse2 = _interopRequireDefault(_browse);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar resources = {\n  collections: _collections2.default,\n  videos: _videos2.default,\n  products: _products2.default,\n  customer: _customers2.default,\n  browse: _browse2.default\n};\n\nvar vhx = function () {\n  function vhx(key) {\n    _classCallCheck(this, vhx);\n\n    var _this = this;\n\n    if (!(_this instanceof vhx)) {\n      return new vhx(key);\n    }\n\n    _this.api = key ? _this.setApi(key) : _this.setToken();\n    _this.prepareResources();\n  }\n\n  _createClass(vhx, [{\n    key: 'setApi',\n    value: function setApi(key) {\n      return {\n        auth: 'Basic ' + btoa(key),\n        host: _defaults2.default.HOST,\n        protocol: _defaults2.default.PROTOCOL,\n        timeout: _defaults2.default.TIMEOUT\n      };\n    }\n  }, {\n    key: 'setToken',\n    value: function setToken() {\n      return {\n        token: null,\n        host: _defaults2.default.HOST,\n        protocol: _defaults2.default.PROTOCOL,\n        timeout: _defaults2.default.TIMEOUT,\n        token_host: _defaults2.default.TOKEN_HOST\n      };\n    }\n  }, {\n    key: 'prepareResources',\n    value: function prepareResources() {\n      var _this = this;\n\n      for (var name in resources) {\n        _this[name[0].toLowerCase() + name.substring(1)] = new resources[name](_this.api);\n      }\n    }\n  }]);\n\n  return vhx;\n}();\n\nwindow.vhx = vhx;\n\n},{\"./defaults\":1,\"./resources/browse\":4,\"./resources/collections\":5,\"./resources/customers\":6,\"./resources/products\":7,\"./resources/videos\":8}],10:[function(require,module,exports){\n/**\n * Root reference for iframes.\n */\n\nvar root;\nif (typeof window !== 'undefined') { // Browser window\n  root = window;\n} else if (typeof self !== 'undefined') { // Web Worker\n  root = self;\n} else { // Other environments\n  console.warn(\"Using browser-only version of superagent in non-browser environment\");\n  root = this;\n}\n\nvar Emitter = require('emitter');\nvar requestBase = require('./request-base');\nvar isObject = require('./is-object');\n\n/**\n * Noop.\n */\n\nfunction noop(){};\n\n/**\n * Expose `request`.\n */\n\nvar request = module.exports = require('./request').bind(null, Request);\n\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = function () {\n  if (root.XMLHttpRequest\n      && (!root.location || 'file:' != root.location.protocol\n          || !root.ActiveXObject)) {\n    return new XMLHttpRequest;\n  } else {\n    try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch(e) {}\n  }\n  throw Error(\"Browser-only verison of superagent could not find XHR\");\n};\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nvar trim = ''.trim\n  ? function(s) { return s.trim(); }\n  : function(s) { return s.replace(/(^\\s*|\\s*$)/g, ''); };\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  var pairs = [];\n  for (var key in obj) {\n    pushEncodedKeyValuePair(pairs, key, obj[key]);\n  }\n  return pairs.join('&');\n}\n\n/**\n * Helps 'serialize' with serializing arrays.\n * Mutates the pairs array.\n *\n * @param {Array} pairs\n * @param {String} key\n * @param {Mixed} val\n */\n\nfunction pushEncodedKeyValuePair(pairs, key, val) {\n  if (val != null) {\n    if (Array.isArray(val)) {\n      val.forEach(function(v) {\n        pushEncodedKeyValuePair(pairs, key, v);\n      });\n    } else if (isObject(val)) {\n      for(var subkey in val) {\n        pushEncodedKeyValuePair(pairs, key + '[' + subkey + ']', val[subkey]);\n      }\n    } else {\n      pairs.push(encodeURIComponent(key)\n        + '=' + encodeURIComponent(val));\n    }\n  } else if (val === null) {\n    pairs.push(encodeURIComponent(key));\n  }\n}\n\n/**\n * Expose serialization method.\n */\n\n request.serializeObject = serialize;\n\n /**\n  * Parse the given x-www-form-urlencoded `str`.\n  *\n  * @param {String} str\n  * @return {Object}\n  * @api private\n  */\n\nfunction parseString(str) {\n  var obj = {};\n  var pairs = str.split('&');\n  var pair;\n  var pos;\n\n  for (var i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    pos = pair.indexOf('=');\n    if (pos == -1) {\n      obj[decodeURIComponent(pair)] = '';\n    } else {\n      obj[decodeURIComponent(pair.slice(0, pos))] =\n        decodeURIComponent(pair.slice(pos + 1));\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'application/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  'form': 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\n request.serialize = {\n   'application/x-www-form-urlencoded': serialize,\n   'application/json': JSON.stringify\n };\n\n /**\n  * Default parsers.\n  *\n  *     superagent.parse['application/xml'] = function(str){\n  *       return { object parsed from str };\n  *     };\n  *\n  */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  var lines = str.split(/\\r?\\n/);\n  var fields = {};\n  var index;\n  var line;\n  var field;\n  var val;\n\n  lines.pop(); // trailing CRLF\n\n  for (var i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n\n  return fields;\n}\n\n/**\n * Check if `mime` is json or has +json structured syntax suffix.\n *\n * @param {String} mime\n * @return {Boolean}\n * @api private\n */\n\nfunction isJSON(mime) {\n  return /[\\/+]json\\b/.test(mime);\n}\n\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction type(str){\n  return str.split(/ *; */).shift();\n};\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction params(str){\n  return str.split(/ *; */).reduce(function(obj, str){\n    var parts = str.split(/ *= */),\n        key = parts.shift(),\n        val = parts.shift();\n\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req, options) {\n  options = options || {};\n  this.req = req;\n  this.xhr = this.req.xhr;\n  // responseText is accessible only if responseType is '' or 'text' and on older browsers\n  this.text = ((this.req.method !='HEAD' && (this.xhr.responseType === '' || this.xhr.responseType === 'text')) || typeof this.xhr.responseType === 'undefined')\n     ? this.xhr.responseText\n     : null;\n  this.statusText = this.req.xhr.statusText;\n  this._setStatusProperties(this.xhr.status);\n  this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this._setHeaderProperties(this.header);\n  this.body = this.req.method != 'HEAD'\n    ? this._parseBody(this.text ? this.text : this.xhr.response)\n    : null;\n}\n\n/**\n * Get case-insensitive `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nResponse.prototype.get = function(field){\n  return this.header[field.toLowerCase()];\n};\n\n/**\n * Set header related properties:\n *\n *   - `.type` the content type without params\n *\n * A response of \"Content-Type: text/plain; charset=utf-8\"\n * will provide you with a `.type` of \"text/plain\".\n *\n * @param {Object} header\n * @api private\n */\n\nResponse.prototype._setHeaderProperties = function(header){\n  // content-type\n  var ct = this.header['content-type'] || '';\n  this.type = type(ct);\n\n  // params\n  var obj = params(ct);\n  for (var key in obj) this[key] = obj[key];\n};\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype._parseBody = function(str){\n  var parse = request.parse[this.type];\n  if (!parse && isJSON(this.type)) {\n    parse = request.parse['application/json'];\n  }\n  return parse && str && (str.length || str instanceof Object)\n    ? parse(str)\n    : null;\n};\n\n/**\n * Set flags such as `.ok` based on `status`.\n *\n * For example a 2xx response will give you a `.ok` of __true__\n * whereas 5xx will be __false__ and `.error` will be __true__. The\n * `.clientError` and `.serverError` are also available to be more\n * specific, and `.statusType` is the class of error ranging from 1..5\n * sometimes useful for mapping respond colors etc.\n *\n * \"sugar\" properties are also defined for common cases. Currently providing:\n *\n *   - .noContent\n *   - .badRequest\n *   - .unauthorized\n *   - .notAcceptable\n *   - .notFound\n *\n * @param {Number} status\n * @api private\n */\n\nResponse.prototype._setStatusProperties = function(status){\n  // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n  if (status === 1223) {\n    status = 204;\n  }\n\n  var type = status / 100 | 0;\n\n  // status / class\n  this.status = this.statusCode = status;\n  this.statusType = type;\n\n  // basics\n  this.info = 1 == type;\n  this.ok = 2 == type;\n  this.clientError = 4 == type;\n  this.serverError = 5 == type;\n  this.error = (4 == type || 5 == type)\n    ? this.toError()\n    : false;\n\n  // sugar\n  this.accepted = 202 == status;\n  this.noContent = 204 == status;\n  this.badRequest = 400 == status;\n  this.unauthorized = 401 == status;\n  this.notAcceptable = 406 == status;\n  this.notFound = 404 == status;\n  this.forbidden = 403 == status;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function(){\n  var req = this.req;\n  var method = req.method;\n  var url = req.url;\n\n  var msg = 'cannot ' + method + ' ' + url + ' (' + this.status + ')';\n  var err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n\n  return err;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  var self = this;\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {}; // preserves header name case\n  this._header = {}; // coerces header names to lowercase\n  this.on('end', function(){\n    var err = null;\n    var res = null;\n\n    try {\n      res = new Response(self);\n    } catch(e) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = e;\n      // issue #675: return the raw response if the response parsing fails\n      err.rawResponse = self.xhr && self.xhr.responseText ? self.xhr.responseText : null;\n      // issue #876: return the http status code if the response parsing fails\n      err.statusCode = self.xhr && self.xhr.status ? self.xhr.status : null;\n      return self.callback(err);\n    }\n\n    self.emit('response', res);\n\n    var new_err;\n    try {\n      if (res.status < 200 || res.status >= 300) {\n        new_err = new Error(res.statusText || 'Unsuccessful HTTP response');\n        new_err.original = err;\n        new_err.response = res;\n        new_err.status = res.status;\n      }\n    } catch(e) {\n      new_err = e; // #985 touching res may cause INVALID_STATE_ERR on old Android\n    }\n\n    // #1000 don't catch errors from the callback to avoid double calling it\n    if (new_err) {\n      self.callback(new_err, res);\n    } else {\n      self.callback(null, res);\n    }\n  });\n}\n\n/**\n * Mixin `Emitter` and `requestBase`.\n */\n\nEmitter(Request.prototype);\nfor (var key in requestBase) {\n  Request.prototype[key] = requestBase[key];\n}\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function(type){\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set responseType to `val`. Presently valid responseTypes are 'blob' and\n * 'arraybuffer'.\n *\n * Examples:\n *\n *      req.get('/')\n *        .responseType('blob')\n *        .end(callback);\n *\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.responseType = function(val){\n  this._responseType = val;\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function(type){\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} pass\n * @param {Object} options with 'type' property 'auto' or 'basic' (default 'basic')\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function(user, pass, options){\n  if (!options) {\n    options = {\n      type: 'basic'\n    }\n  }\n\n  switch (options.type) {\n    case 'basic':\n      var str = btoa(user + ':' + pass);\n      this.set('Authorization', 'Basic ' + str);\n    break;\n\n    case 'auto':\n      this.username = user;\n      this.password = pass;\n    break;\n  }\n  return this;\n};\n\n/**\n* Add query-string `val`.\n*\n* Examples:\n*\n*   request.get('/shoes')\n*     .query('size=10')\n*     .query({ color: 'blue' })\n*\n* @param {Object|String} val\n* @return {Request} for chaining\n* @api public\n*/\n\nRequest.prototype.query = function(val){\n  if ('string' != typeof val) val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `filename`.\n *\n * ``` js\n * request.post('/upload')\n *   .attach('content', new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String} filename\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function(field, file, filename){\n  this._getFormData().append(field, file, filename || file.name);\n  return this;\n};\n\nRequest.prototype._getFormData = function(){\n  if (!this._formData) {\n    this._formData = new root.FormData();\n  }\n  return this._formData;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function(err, res){\n  var fn = this._callback;\n  this.clearTimeout();\n  fn(err, res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function(){\n  var err = new Error('Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');\n  err.crossDomain = true;\n\n  err.status = this.status;\n  err.method = this.method;\n  err.url = this.url;\n\n  this.callback(err);\n};\n\n/**\n * Invoke callback with timeout error.\n *\n * @api private\n */\n\nRequest.prototype._timeoutError = function(){\n  var timeout = this._timeout;\n  var err = new Error('timeout of ' + timeout + 'ms exceeded');\n  err.timeout = timeout;\n  this.callback(err);\n};\n\n/**\n * Compose querystring to append to req.url\n *\n * @api private\n */\n\nRequest.prototype._appendQueryString = function(){\n  var query = this._query.join('&');\n  if (query) {\n    this.url += ~this.url.indexOf('?')\n      ? '&' + query\n      : '?' + query;\n  }\n};\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function(fn){\n  var self = this;\n  var xhr = this.xhr = request.getXHR();\n  var timeout = this._timeout;\n  var data = this._formData || this._data;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // state change\n  xhr.onreadystatechange = function(){\n    if (4 != xhr.readyState) return;\n\n    // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n    var status;\n    try { status = xhr.status } catch(e) { status = 0; }\n\n    if (0 == status) {\n      if (self.timedout) return self._timeoutError();\n      if (self._aborted) return;\n      return self.crossDomainError();\n    }\n    self.emit('end');\n  };\n\n  // progress\n  var handleProgress = function(e){\n    if (e.total > 0) {\n      e.percent = e.loaded / e.total * 100;\n    }\n    e.direction = 'download';\n    self.emit('progress', e);\n  };\n  if (this.hasListeners('progress')) {\n    xhr.onprogress = handleProgress;\n  }\n  try {\n    if (xhr.upload && this.hasListeners('progress')) {\n      xhr.upload.onprogress = handleProgress;\n    }\n  } catch(e) {\n    // Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n    // Reported here:\n    // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n  }\n\n  // timeout\n  if (timeout && !this._timer) {\n    this._timer = setTimeout(function(){\n      self.timedout = true;\n      self.abort();\n    }, timeout);\n  }\n\n  // querystring\n  this._appendQueryString();\n\n  // initiate request\n  if (this.username && this.password) {\n    xhr.open(this.method, this.url, true, this.username, this.password);\n  } else {\n    xhr.open(this.method, this.url, true);\n  }\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if ('GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !this._isHost(data)) {\n    // serialize stuff\n    var contentType = this._header['content-type'];\n    var serialize = this._serializer || request.serialize[contentType ? contentType.split(';')[0] : ''];\n    if (!serialize && isJSON(contentType)) serialize = request.serialize['application/json'];\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (var field in this.header) {\n    if (null == this.header[field]) continue;\n    xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  if (this._responseType) {\n    xhr.responseType = this._responseType;\n  }\n\n  // send stuff\n  this.emit('request', this);\n\n  // IE11 xhr.send(undefined) sends 'undefined' string as POST payload (instead of nothing)\n  // We need null here if data is undefined\n  xhr.send(typeof data !== 'undefined' ? data : null);\n  return this;\n};\n\n\n/**\n * Expose `Request`.\n */\n\nrequest.Request = Request;\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.get = function(url, data, fn){\n  var req = request('GET', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.head = function(url, data, fn){\n  var req = request('HEAD', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * OPTIONS query to `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.options = function(url, data, fn){\n  var req = request('OPTIONS', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * DELETE `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nfunction del(url, fn){\n  var req = request('DELETE', url);\n  if (fn) req.end(fn);\n  return req;\n};\n\nrequest['del'] = del;\nrequest['delete'] = del;\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.patch = function(url, data, fn){\n  var req = request('PATCH', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.post = function(url, data, fn){\n  var req = request('POST', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.put = function(url, data, fn){\n  var req = request('PUT', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n},{\"./is-object\":11,\"./request\":13,\"./request-base\":12,\"emitter\":14}],11:[function(require,module,exports){\n/**\n * Check if `obj` is an object.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(obj) {\n  return null !== obj && 'object' === typeof obj;\n}\n\nmodule.exports = isObject;\n\n},{}],12:[function(require,module,exports){\n/**\n * Module of mixed-in functions shared between node and client code\n */\nvar isObject = require('./is-object');\n\n/**\n * Clear previous timeout.\n *\n * @return {Request} for chaining\n * @api public\n */\n\nexports.clearTimeout = function _clearTimeout(){\n  this._timeout = 0;\n  clearTimeout(this._timer);\n  return this;\n};\n\n/**\n * Override default response body parser\n *\n * This function will be called to convert incoming data into request.body\n *\n * @param {Function}\n * @api public\n */\n\nexports.parse = function parse(fn){\n  this._parser = fn;\n  return this;\n};\n\n/**\n * Override default request body serializer\n *\n * This function will be called to convert data set via .send or .attach into payload to send\n *\n * @param {Function}\n * @api public\n */\n\nexports.serialize = function serialize(fn){\n  this._serializer = fn;\n  return this;\n};\n\n/**\n * Set timeout to `ms`.\n *\n * @param {Number} ms\n * @return {Request} for chaining\n * @api public\n */\n\nexports.timeout = function timeout(ms){\n  this._timeout = ms;\n  return this;\n};\n\n/**\n * Promise support\n *\n * @param {Function} resolve\n * @param {Function} reject\n * @return {Request}\n */\n\nexports.then = function then(resolve, reject) {\n  if (!this._fullfilledPromise) {\n    var self = this;\n    this._fullfilledPromise = new Promise(function(innerResolve, innerReject){\n      self.end(function(err, res){\n        if (err) innerReject(err); else innerResolve(res);\n      });\n    });\n  }\n  return this._fullfilledPromise.then(resolve, reject);\n}\n\n/**\n * Allow for extension\n */\n\nexports.use = function use(fn) {\n  fn(this);\n  return this;\n}\n\n\n/**\n * Get request header `field`.\n * Case-insensitive.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nexports.get = function(field){\n  return this._header[field.toLowerCase()];\n};\n\n/**\n * Get case-insensitive header `field` value.\n * This is a deprecated internal API. Use `.get(field)` instead.\n *\n * (getHeader is no longer used internally by the superagent code base)\n *\n * @param {String} field\n * @return {String}\n * @api private\n * @deprecated\n */\n\nexports.getHeader = exports.get;\n\n/**\n * Set header `field` to `val`, or multiple fields with one object.\n * Case-insensitive.\n *\n * Examples:\n *\n *      req.get('/')\n *        .set('Accept', 'application/json')\n *        .set('X-API-Key', 'foobar')\n *        .end(callback);\n *\n *      req.get('/')\n *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })\n *        .end(callback);\n *\n * @param {String|Object} field\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nexports.set = function(field, val){\n  if (isObject(field)) {\n    for (var key in field) {\n      this.set(key, field[key]);\n    }\n    return this;\n  }\n  this._header[field.toLowerCase()] = val;\n  this.header[field] = val;\n  return this;\n};\n\n/**\n * Remove header `field`.\n * Case-insensitive.\n *\n * Example:\n *\n *      req.get('/')\n *        .unset('User-Agent')\n *        .end(callback);\n *\n * @param {String} field\n */\nexports.unset = function(field){\n  delete this._header[field.toLowerCase()];\n  delete this.header[field];\n  return this;\n};\n\n/**\n * Write the field `name` and `val` for \"multipart/form-data\"\n * request bodies.\n *\n * ``` js\n * request.post('/upload')\n *   .field('foo', 'bar')\n *   .end(callback);\n * ```\n *\n * @param {String} name\n * @param {String|Blob|File|Buffer|fs.ReadStream} val\n * @return {Request} for chaining\n * @api public\n */\nexports.field = function(name, val) {\n  this._getFormData().append(name, val);\n  return this;\n};\n\n/**\n * Abort the request, and clear potential timeout.\n *\n * @return {Request}\n * @api public\n */\nexports.abort = function(){\n  if (this._aborted) {\n    return this;\n  }\n  this._aborted = true;\n  this.xhr && this.xhr.abort(); // browser\n  this.req && this.req.abort(); // node\n  this.clearTimeout();\n  this.emit('abort');\n  return this;\n};\n\n/**\n * Enable transmission of cookies with x-domain requests.\n *\n * Note that for this to work the origin must not be\n * using \"Access-Control-Allow-Origin\" with a wildcard,\n * and also must set \"Access-Control-Allow-Credentials\"\n * to \"true\".\n *\n * @api public\n */\n\nexports.withCredentials = function(){\n  // This is browser-only functionality. Node side is no-op.\n  this._withCredentials = true;\n  return this;\n};\n\n/**\n * Set the max redirects to `n`. Does noting in browser XHR implementation.\n *\n * @param {Number} n\n * @return {Request} for chaining\n * @api public\n */\n\nexports.redirects = function(n){\n  this._maxRedirects = n;\n  return this;\n};\n\n/**\n * Convert to a plain javascript object (not JSON string) of scalar properties.\n * Note as this method is designed to return a useful non-this value,\n * it cannot be chained.\n *\n * @return {Object} describing method, url, and data of this request\n * @api public\n */\n\nexports.toJSON = function(){\n  return {\n    method: this.method,\n    url: this.url,\n    data: this._data,\n    headers: this._header\n  };\n};\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * TODO: future proof, move to compoent land\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nexports._isHost = function _isHost(obj) {\n  var str = {}.toString.call(obj);\n\n  switch (str) {\n    case '[object File]':\n    case '[object Blob]':\n    case '[object FormData]':\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Send `data` as the request body, defaulting the `.type()` to \"json\" when\n * an object is given.\n *\n * Examples:\n *\n *       // manual json\n *       request.post('/user')\n *         .type('json')\n *         .send('{\"name\":\"tj\"}')\n *         .end(callback)\n *\n *       // auto json\n *       request.post('/user')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // manual x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send('name=tj')\n *         .end(callback)\n *\n *       // auto x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // defaults to x-www-form-urlencoded\n *      request.post('/user')\n *        .send('name=tobi')\n *        .send('species=ferret')\n *        .end(callback)\n *\n * @param {String|Object} data\n * @return {Request} for chaining\n * @api public\n */\n\nexports.send = function(data){\n  var obj = isObject(data);\n  var type = this._header['content-type'];\n\n  // merge\n  if (obj && isObject(this._data)) {\n    for (var key in data) {\n      this._data[key] = data[key];\n    }\n  } else if ('string' == typeof data) {\n    // default to x-www-form-urlencoded\n    if (!type) this.type('form');\n    type = this._header['content-type'];\n    if ('application/x-www-form-urlencoded' == type) {\n      this._data = this._data\n        ? this._data + '&' + data\n        : data;\n    } else {\n      this._data = (this._data || '') + data;\n    }\n  } else {\n    this._data = data;\n  }\n\n  if (!obj || this._isHost(data)) return this;\n\n  // default to json\n  if (!type) this.type('json');\n  return this;\n};\n\n},{\"./is-object\":11}],13:[function(require,module,exports){\n// The node and browser modules expose versions of this with the\n// appropriate constructor function bound as first argument\n/**\n * Issue a request:\n *\n * Examples:\n *\n *    request('GET', '/users').end(callback)\n *    request('/users').end(callback)\n *    request('/users', callback)\n *\n * @param {String} method\n * @param {String|Function} url or callback\n * @return {Request}\n * @api public\n */\n\nfunction request(RequestConstructor, method, url) {\n  // callback\n  if ('function' == typeof url) {\n    return new RequestConstructor('GET', method).end(url);\n  }\n\n  // url first\n  if (2 == arguments.length) {\n    return new RequestConstructor('GET', method);\n  }\n\n  return new RequestConstructor(method, url);\n}\n\nmodule.exports = request;\n\n},{}],14:[function(require,module,exports){\n\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n\n},{}],15:[function(require,module,exports){\nmodule.exports={\n  \"name\": \"vhxjs\",\n  \"version\": \"1.0.0-beta.2\",\n  \"description\": \"VHX Javascript API Client\",\n  \"main\": \"vhx.js\",\n  \"author\": \"VHX\",\n  \"homepage\": \"https://github.com/vhx/vhx-node\",\n  \"contributors\": [\"David Gonzalez <david@vhx.tv> \", \"Scott Robertson <scott@vhx.tv>\"],\n  \"license\": \"MIT\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git://github.com/vhx/vhx-js.git\"\n  },\n  \"bugs:\": \"https://github.com/vhx/vhx-js/issues\",\n  \"devDependencies\": {\n    \"babel-cli\": \"^6.11.4\",\n    \"babel-preset-es2015\": \"^6.9.0\",\n    \"babelify\": \"^7.3.0\",\n    \"browserify\": \"^13.1.0\",\n    \"gulp\": \"^3.9.1\",\n    \"gulp-babel\": \"^6.1.2\",\n    \"gulp-browserify\": \"^0.5.1\",\n    \"gulp-livereload\": \"^3.8.1\",\n    \"gulp-sourcemaps\": \"^1.6.0\",\n    \"gulp-uglify\": \"^1.5.4\",\n    \"superagent\": \"^2.1.0\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"^1.1.0\"\n  }\n}\n\n},{}]},{},[9])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJsaWIvZGVmYXVsdHMuanMiLCJsaWIvcGFnaW5hdGUuanMiLCJsaWIvcmVzb3VyY2UuanMiLCJsaWIvcmVzb3VyY2VzL2Jyb3dzZS5qcyIsImxpYi9yZXNvdXJjZXMvY29sbGVjdGlvbnMuanMiLCJsaWIvcmVzb3VyY2VzL2N1c3RvbWVycy5qcyIsImxpYi9yZXNvdXJjZXMvcHJvZHVjdHMuanMiLCJsaWIvcmVzb3VyY2VzL3ZpZGVvcy5qcyIsImxpYi92aHguanMiLCJub2RlX21vZHVsZXMvc3VwZXJhZ2VudC9saWIvY2xpZW50LmpzIiwibm9kZV9tb2R1bGVzL3N1cGVyYWdlbnQvbGliL2lzLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9zdXBlcmFnZW50L2xpYi9yZXF1ZXN0LWJhc2UuanMiLCJub2RlX21vZHVsZXMvc3VwZXJhZ2VudC9saWIvcmVxdWVzdC5qcyIsIm5vZGVfbW9kdWxlcy9zdXBlcmFnZW50L25vZGVfbW9kdWxlcy9jb21wb25lbnQtZW1pdHRlci9pbmRleC5qcyIsInBhY2thZ2UuanNvbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsSUFBTSxnQkFBZ0I7QUFDcEIsUUFBTSxZQURjO0FBRXBCLFlBQVUsVUFGVTtBQUdwQixlQUFhLFFBQVEsaUJBQVIsRUFBMkIsT0FIcEI7QUFJcEIsV0FBUyxPQUpXO0FBS3BCLGNBQVk7QUFMUSxDQUF0Qjs7QUFRQSxPQUFPLE9BQVAsR0FBaUIsYUFBakI7OztBQ1JBOzs7Ozs7SUFFTSxRO0FBQ0osb0JBQVksUUFBWixFQUFzQixJQUF0QixFQUE0QjtBQUFBOztBQUMxQixRQUFJLFFBQVEsSUFBWjs7QUFFQSxVQUFNLFFBQU4sR0FBaUIsUUFBakI7QUFDQSxVQUFNLFFBQU4sR0FBaUIsS0FBSyxJQUF0QjtBQUNBLFVBQU0sT0FBTixHQUFpQixLQUFLLE9BQXRCO0FB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbktBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImNvbnN0IF9WSFhfREVGQVVMVFMgPSB7XG4gIEhPU1Q6ICdhcGkudmh4LnR2JyxcbiAgUFJPVE9DT0w6ICdodHRwczovLycsXG4gIEFQSV9WRVJTSU9OOiByZXF1aXJlKCcuLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uLFxuICBUSU1FT1VUOiAnMzAwMDAnLFxuICBUT0tFTl9IT1NUOiAndmh4LnR2J1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBfVkhYX0RFRkFVTFRTO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jbGFzcyBQYWdpbmF0ZSB7XG4gIGNvbnN0cnVjdG9yKHJlc291cmNlLCBhcmdzKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLnJlc291cmNlID0gcmVzb3VyY2U7XG4gICAgX3RoaXMucmVzcG9uc2UgPSBhcmdzLmJvZHk7XG4gICAgX3RoaXMub3B0aW9ucyAgPSBhcmdzLm9wdGlvbnM7XG4gICAgX3RoaXMucGFnZSAgICAgPSBfdGhpcy5vcHRpb25zLnBhZ2UgPyBfdGhpcy5vcHRpb25zLnBhZ2UgOiAxO1xuICAgIF90aGlzLm1ldGhvZCAgID0gYXJncy5tZXRob2Q7XG4gICAgX3RoaXMubGFzdCAgICAgPSBNYXRoLmNlaWwoYXJncy5ib2R5LnRvdGFsIC8gKGFyZ3MuYm9keS5jb3VudCAqIF90aGlzLnBhZ2UpKTtcblxuICAgIFsnbmV4dFBhZ2UnLCdwcmV2aW91c1BhZ2UnLCdmaXJzdFBhZ2UnLCdsYXN0UGFnZSddLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIF90aGlzLnJlc3BvbnNlW2tleV0gPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICBfdGhpc1trZXldKF90aGlzLCBjYWxsYmFjayk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgX3RoaXMucmVzcG9uc2UuZ29Ub1BhZ2UgPSBmdW5jdGlvbihudW0sIGNhbGxiYWNrKSB7XG4gICAgICBfdGhpcy5nb1RvUGFnZShfdGhpcywgbnVtLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIF90aGlzLnJlc3BvbnNlLm1lcmdlID0gZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgIF90aGlzLl9lbWJlZGRlZFtfdGhpcy5vYmplY3RdID0gdGhpcy5fZW1iZWRkZWRbX3RoaXMub2JqZWN0XS5jb25jYXQoX3RoaXMuX2VtYmVkZGVkW190aGlzLm9iamVjdF0pO1xuICAgICAgX3RoaXMuY291bnQgPSB0aGlzLmNvdW50ICsgX3RoaXMuY291bnQ7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9O1xuICB9XG5cbiAgZ2V0KCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICByZXR1cm4gX3RoaXMucmVzcG9uc2U7XG4gIH1cblxuICBuZXh0UGFnZShfdGhpcywgY2FsbGJhY2spIHtcbiAgICBfdGhpcy5vcHRpb25zLnBhZ2UgPSBfdGhpcy5wYWdlICsgMTtcblxuICAgIGlmIChfdGhpcy5vcHRpb25zLnBhZ2UgPiBfdGhpcy5sYXN0KSB7XG4gICAgICB0aHJvdyAnTm8gbW9yZSBwYWdlcyB0byByZXF1ZXN0JztcbiAgICB9XG5cbiAgICBfdGhpcy5yZXNvdXJjZVtfdGhpcy5tZXRob2RdKF90aGlzLm9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIHByZXZpb3VzUGFnZShfdGhpcywgY2FsbGJhY2spIHtcbiAgICBpZiAoX3RoaXMucGFnZSA9PT0gMSkge1xuICAgICAgdGhyb3cgJ05vIHByZXZpb3VzIHBhZ2VzIHRvIHJlcXVlc3QnO1xuICAgIH1cblxuICAgIF90aGlzLm9wdGlvbnMucGFnZSA9IF90aGlzLnBhZ2UgLSAxO1xuICAgIF90aGlzLnJlc291cmNlW190aGlzLm1ldGhvZF0oX3RoaXMub3B0aW9ucywgY2FsbGJhY2spO1xuICB9XG5cbiAgZmlyc3RQYWdlKF90aGlzLCBjYWxsYmFjaykge1xuICAgIF90aGlzLm9wdGlvbnMucGFnZSA9IDE7XG4gICAgX3RoaXMucmVzb3VyY2VbX3RoaXMubWV0aG9kXShfdGhpcy5vcHRpb25zLCBjYWxsYmFjayk7XG4gIH1cblxuICBsYXN0UGFnZShfdGhpcywgY2FsbGJhY2spIHtcbiAgICBfdGhpcy5vcHRpb25zLnBhZ2UgPSBfdGhpcy5sYXN0O1xuICAgIF90aGlzLnJlc291cmNlW190aGlzLm1ldGhvZF0oX3RoaXMub3B0aW9ucywgY2FsbGJhY2spO1xuICB9XG5cbiAgZ29Ub1BhZ2UoX3RoaXMsIG51bSwgY2FsbGJhY2spIHtcbiAgICBudW0gPSBwYXJzZUludChudW0sIDEwKTtcblxuICAgIGlmIChudW0gPiAwICYmIG51bSA8PSBfdGhpcy5sYXN0KSB7XG4gICAgICBfdGhpcy5vcHRpb25zLnBhZ2UgPSBudW07XG4gICAgICByZXR1cm4gX3RoaXMucmVzb3VyY2VbX3RoaXMubWV0aG9kXShfdGhpcy5vcHRpb25zLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgdGhyb3cgJ1lvdSBtdXN0IHBhc3MgYSB2YWxpZCBwYWdlIG51bWJlcic7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQYWdpbmF0ZTsiLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHJlcXVlc3QgPSByZXF1aXJlKCdzdXBlcmFnZW50Jyk7XG5jb25zdCBwYWdpbmF0ZSA9IHJlcXVpcmUoJy4vcGFnaW5hdGUnKTtcblxuY2xhc3MgUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3RvcihhcGksIHBhdGgsIG1ldGhvZHMsIGlzVG9rZW4pIHtcbiAgICBsZXQgX3RoaXMgICAgID0gdGhpcztcbiAgICBfdGhpcy5fYXBpICAgID0gYXBpO1xuICAgIF90aGlzLm1ldGhvZHMgPSBtZXRob2RzO1xuICAgIF90aGlzLnBhdGggICAgPSBwYXRoO1xuXG4gICAgX3RoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMubWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIGxldCBtZXRob2QgPSBfdGhpcy5nZXRNZXRob2QoaXRlbSksXG4gICAgICAgICAgdHlwZSA9IF90aGlzLmdldFR5cGUoX3RoaXMucGF0aCksXG4gICAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgICAgaHR0cF9tZXRob2Q6ICdnZXQnLCAvLyBzdXBlcmFnZW50IHJlYWRzICdnZXQnIG5vdCAnR0VUJ1xuICAgICAgICAgICAgY2xpZW50X21ldGhvZDogbWV0aG9kXG4gICAgICAgICAgfTtcblxuICAgICAgaWYgKG1ldGhvZC5tYXRjaCgvcmV0cmlldmV8aXRlbXN8ZmlsZXMvaSkpIHtcbiAgICAgICAgX3RoaXNbbWV0aG9kXSA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgICAgICBpZiAoYVt0eXBlXSkge1xuICAgICAgICAgICBpZiAoX3RoaXMuaXNDYWxsYmFja0Z1bmN0aW9uKGIpKSB7XG4gICAgICAgICAgICAgcGFyYW1zLmNhbGxiYWNrID0gYjtcbiAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyYW1zLmlkID0gX3RoaXMucGFyc2VIcmVmKGFbdHlwZV0pO1xuICAgICAgICAgICAgZGVsZXRlIGFbdHlwZV07XG4gICAgICAgICAgICBwYXJhbXMub3B0aW9ucyA9IGE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyYW1zLmlkID0gX3RoaXMucGFyc2VIcmVmKGEpO1xuICAgICAgICAgICAgaWYgKF90aGlzLmlzQ2FsbGJhY2tGdW5jdGlvbihiKSkge1xuICAgICAgICAgICAgICBwYXJhbXMuY2FsbGJhY2sgPSBiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGFyYW1zLm9wdGlvbnMgPSBiO1xuICAgICAgICAgICAgICBwYXJhbXMuY2FsbGJhY2sgPSBjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHBhcmFtcy5zY29wZSA9IGl0ZW0uc2NvcGUgPyBpdGVtLnNjb3BlIDogbnVsbDtcbiAgICAgICAgICBfdGhpcy5tYWtlUmVxdWVzdChwYXJhbXMpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIF90aGlzW21ldGhvZF0gPSBmdW5jdGlvbihvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICAgIHBhcmFtcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICBwYXJhbXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgICAgICAgIF90aGlzLm1ha2VSZXF1ZXN0KHBhcmFtcyk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBnZXRUeXBlKHJlc291cmNlKSB7XG4gICAgaWYgKHJlc291cmNlID09PSAnY29sbGVjdGlvbnMnKSB7XG4gICAgICByZXR1cm4gJ2NvbGxlY3Rpb24nO1xuICAgIH1cbiAgICBpZiAocmVzb3VyY2UgPT09ICdjdXN0b21lcnMnKSB7XG4gICAgICByZXR1cm4gJ2N1c3RvbWVyJztcbiAgICB9XG4gICAgaWYgKHJlc291cmNlID09PSAndmlkZW9zJykge1xuICAgICAgcmV0dXJuICd2aWRlbyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICdpZCc7XG4gIH1cblxuICBnZXRNZXRob2QocGFyYW1zKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIGlmIChfdGhpcy5pc09iamVjdChwYXJhbXMpICYmIHBhcmFtcy5tZXRob2QpIHtcbiAgICAgIHJldHVybiBwYXJhbXMubWV0aG9kO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cbiAgfVxuXG4gIHBhcnNlSHJlZihocmVmKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcyxcbiAgICAgICAgdmFsO1xuXG4gICAgaWYgKHBhcnNlSW50KGhyZWYsIDEwKSkge1xuICAgICAgcmV0dXJuIGhyZWY7XG4gICAgfVxuICAgIGVsc2UgaWYgKGhyZWYuaW5kZXhPZihfdGhpcy5fYXBpLmhvc3QpID49IDApIHtcbiAgICAgIGlmIChocmVmLnN1YnN0cigtMSkgPT09ICcvJykge1xuICAgICAgICBocmVmLnN1YnN0cigwLCBocmVmLmxlbmd0aC0xKTtcbiAgICAgIH1cbiAgICAgIHZhbCA9IGhyZWYuc3BsaXQoJy8nKTtcbiAgICAgIHJldHVybiB2YWxbdmFsLmxlbmd0aC0xXTtcbiAgICB9XG4gIH1cblxuICBnZXRUb2tlbihjYikge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IHBhdGggID0gYCR7X3RoaXMuX2FwaS5wcm90b2NvbH0ke3dpbmRvdy5sb2NhdGlvbi5ob3N0fS90b2tlbnNgXG5cbiAgICByZXF1ZXN0LnBvc3QocGF0aClcbiAgICAgIC5zZXQoJ1gtQ1NSRi1Ub2tlbicsICQoJ21ldGFbbmFtZT1cImNzcmYtdG9rZW5cIl0nKS5hdHRyKCdjb250ZW50JykpXG4gICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIF90aGlzLl9hcGkudG9rZW4gPSBkYXRhLmJvZHkudG9rZW47XG4gICAgICAgIGlmIChjYikgY2IoKTtcbiAgICAgIH0sIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHRpbWVTdGFtcCgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH1cblxuICBnZXRQYXJhbXMoY2xpZW50X21ldGhvZCwgaWQsIG9wdGlvbnMsIHNjb3BlKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcyxcbiAgICAgICAgcGFyYW1zID0ge307XG5cbiAgICBwYXJhbXMudXJsID0gX3RoaXMuX2FwaS5wcm90b2NvbCArIF90aGlzLl9hcGkuaG9zdCArICcvJyArIF90aGlzLnBhdGg7XG4gICAgcGFyYW1zLnRpbWVvdXQgPSBfdGhpcy5fYXBpLnRpbWVvdXQ7XG5cbiAgICBpZiAoX3RoaXMuX2FwaS5hdXRoKSB7XG4gICAgICBwYXJhbXMuaGVhZGVycyA9IHtcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBfdGhpcy5fYXBpLmF1dGhcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcGFyYW1zLnFzID0gb3B0aW9ucyB8fCBudWxsO1xuXG4gICAgaWYgKCFjbGllbnRfbWV0aG9kLm1hdGNoKC9ebGlzdCR8XmFsbCQvKSkge1xuICAgICAgcGFyYW1zLnVybCArPSAnLycgKyBpZDtcbiAgICB9XG5cbiAgICBpZiAoY2xpZW50X21ldGhvZC5tYXRjaCgvaXRlbXMvaSkpIHtcbiAgICAgIHBhcmFtcy51cmwgKz0gJy9pdGVtcyc7XG4gICAgfVxuXG4gICAgaWYgKGNsaWVudF9tZXRob2QubWF0Y2goL2ZpbGVzL2kpKSB7XG4gICAgICBwYXJhbXMudXJsICs9ICcvZmlsZXMnO1xuICAgIH1cblxuICAgIGlmIChzY29wZSkge1xuICAgICAgcGFyYW1zLnVybCArPSAnLycgKyBzY29wZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyYW1zO1xuICB9XG5cbiAgbWFrZVJlcXVlc3QoYXJncykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IHBhcmFtcyA9IF90aGlzLmdldFBhcmFtcyhhcmdzLmNsaWVudF9tZXRob2QsIGFyZ3MuaWQgfHwgbnVsbCwgYXJncy5vcHRpb25zLCBhcmdzLnNjb3BlKTtcblxuICAgIGlmIChfdGhpcy5pc0NhbGxiYWNrRnVuY3Rpb24oYXJncy5vcHRpb25zKSkge1xuICAgICAgYXJncy5jYWxsYmFjayA9IGFyZ3Mub3B0aW9ucztcbiAgICB9XG5cbiAgICBpZiAoX3RoaXMuX2FwaS50b2tlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBfdGhpcy5nZXRUb2tlbigoKT0+IHtcbiAgICAgICAgcGFyYW1zLmhlYWRlcnMgPSB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyBfdGhpcy5fYXBpLnRva2VuXG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5hamF4UmVxdWVzdChhcmdzLCBwYXJhbXMpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLmFqYXhSZXF1ZXN0KGFyZ3MsIHBhcmFtcyk7XG4gICAgfVxuICB9XG5cbiAgYWpheFJlcXVlc3QoYXJncywgcGFyYW1zKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIHJlcXVlc3RbYXJncy5odHRwX21ldGhvZF0ocGFyYW1zLnVybClcbiAgICAgIC53aXRoQ3JlZGVudGlhbHMoKVxuICAgICAgLnNldChwYXJhbXMuaGVhZGVycyB8fCB7fSlcbiAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJylcbiAgICAgIC5xdWVyeShwYXJhbXMucXMpXG4gICAgICAuZW5kKGZ1bmN0aW9uKGVyciwgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKGVyciAmJiBlcnIuY29kZSA9PT0gJ0VUSU1FRE9VVCcpIHtcbiAgICAgICAgICBfdGhpcy5lcnJvckhhbmRsZXIoe1xuICAgICAgICAgICAgc3RhdHVzOiA0MDgsXG4gICAgICAgICAgICBib2R5OiAne1wibWVzc2FnZVwiOiBcIlRoZSByZXF1ZXN0IHRpbWVkIG91dC5cIixcImRvY3VtZW50YXRpb25fdXJsXCI6IFwiaHR0cDovL2Rldi52aHgudHYvZG9jcy9hcGlcIn0nLFxuICAgICAgICAgICAgY2FsbGJhY2s6IChhcmdzLmNhbGxiYWNrIHx8ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlcnIgJiYgcmVzcG9uc2Uuc3RhdHVzQ29kZSA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzQ29kZSA8IDMwMCkge1xuICAgICAgICAgIF90aGlzLnN1Y2Nlc3NIYW5kbGVyKHtcbiAgICAgICAgICAgIGJvZHk6IHJlc3BvbnNlLmJvZHkgfHwgbnVsbCxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBhcmdzLmNhbGxiYWNrLFxuICAgICAgICAgICAgb3B0aW9uczogYXJncy5vcHRpb25zLFxuICAgICAgICAgICAgb2JqZWN0OiBfdGhpcy5wYXRoLFxuICAgICAgICAgICAgbWV0aG9kOiBhcmdzLmNsaWVudF9tZXRob2RcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5lcnJvckhhbmRsZXIoe1xuICAgICAgICAgICAgc3RhdHVzOiA0MDgsXG4gICAgICAgICAgICBib2R5OiAne1wibWVzc2FnZVwiOiBcIlRoZSByZXF1ZXN0IHRpbWVkIG91dC5cIixcImRvY3VtZW50YXRpb25fdXJsXCI6IFwiaHR0cDovL2Rldi52aHgudHYvZG9jcy9hcGlcIn0nLFxuICAgICAgICAgICAgY2FsbGJhY2s6IChhcmdzLmNhbGxiYWNrIHx8ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIHN1Y2Nlc3NIYW5kbGVyKGFyZ3MpIHtcbiAgICBsZXQgcmVzcG9uc2UgPSBhcmdzLmJvZHk7XG5cbiAgICBpZiAoYXJncy5ib2R5LmNvdW50ICYmIGFyZ3MuYm9keS5jb3VudCA8IGFyZ3MuYm9keS50b3RhbCkge1xuICAgICAgcmVzcG9uc2UgPSBuZXcgcGFnaW5hdGUodGhpcywgYXJncykuZ2V0KCk7XG4gICAgfVxuXG4gICAgcmVzcG9uc2Uub2JqZWN0ID0gYXJncy5vYmplY3Q7XG4gICAgXG4gICAgaWYgKGFyZ3MuY2FsbGJhY2spIHtcbiAgICAgIGFyZ3MuY2FsbGJhY2soZmFsc2UsIHJlc3BvbnNlKTtcbiAgICB9XG4gIH1cblxuICBlcnJvckhhbmRsZXIoYXJncykge1xuICAgIGxldCBlcnJvciA9IEpTT04ucGFyc2UoYXJncy5ib2R5KSxcbiAgICAgICAgZXJyb3JfdHlwZXMgPSB7XG4gICAgICAgICAgNDAwOiAnVkhYSW52YWxpZFJlcXVlc3RFcnJvcicsXG4gICAgICAgICAgNDAxOiAnVkhYQXV0aGVudGljYXRpb25FcnJvcicsXG4gICAgICAgICAgNDA0OiAnVkhYUmVzb3VyY2VOb3RGb3VuZCcsXG4gICAgICAgICAgNDA4OiAnVkhYQ29ubmVjdGlvbkVycm9yJyxcbiAgICAgICAgICA1MDA6ICdWSFhBUElFcnJvcidcbiAgICAgICAgfTtcblxuICAgIGVycm9yLnN0YXR1cyA9IGFyZ3Muc3RhdHVzO1xuICAgIGVycm9yLnR5cGUgPSBlcnJvcl90eXBlc1tlcnJvci5zdGF0dXNdO1xuXG4gICAgaWYgKGFyZ3MuY2FsbGJhY2spIHtcbiAgICAgIGFyZ3MuY2FsbGJhY2soZXJyb3IsIG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIGlzQ2FsbGJhY2tGdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gISEob2JqICYmIG9iai5jb25zdHJ1Y3RvciAmJiBvYmouY2FsbCAmJiBvYmouYXBwbHkpO1xuICB9XG5cbiAgaXNPYmplY3Qob2JqKSB7XG4gICAgbGV0IHR5cGUgPSB0eXBlb2Ygb2JqO1xuICAgIHJldHVybiB0eXBlID09PSAnZnVuY3Rpb24nIHx8IHR5cGUgPT09ICdvYmplY3QnICYmICEhb2JqO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlc291cmNlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVzb3VyY2UgPSByZXF1aXJlKCcuLi9yZXNvdXJjZScpO1xuXG5jbGFzcyBCcm93c2UgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gIGNvbnN0cnVjdG9yKGFwaSkge1xuICAgIHN1cGVyKGFwaSwgJ2Jyb3dzZScsIFsnYWxsJywgJ2xpc3QnXSk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQnJvd3NlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVzb3VyY2UgPSByZXF1aXJlKCcuLi9yZXNvdXJjZScpO1xuXG5jbGFzcyBDb2xsZWN0aW9uIGV4dGVuZHMgUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3RvcihhcGkpIHtcbiAgICBzdXBlcihhcGksICdjb2xsZWN0aW9ucycsIFsnYWxsJywgJ2xpc3QnLCAnaXRlbXMnXSk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ29sbGVjdGlvbjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFJlc291cmNlID0gcmVxdWlyZSgnLi4vcmVzb3VyY2UnKTtcblxuY2xhc3MgQ3VzdG9tZXIgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gIGNvbnN0cnVjdG9yKGFwaSkge1xuICAgIHN1cGVyKGFwaSwgJ2N1c3RvbWVycycsIFsncmV0cmlldmUnLCAnYWxsJ10pO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEN1c3RvbWVyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVzb3VyY2UgPSByZXF1aXJlKCcuLi9yZXNvdXJjZScpO1xuXG5jbGFzcyBQcm9kdWN0IGV4dGVuZHMgUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3RvcihhcGkpIHtcbiAgICBzdXBlcihhcGksICdwcm9kdWN0cycsIFsncmV0cmlldmUnLCAnYWxsJ10pO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFByb2R1Y3Q7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBSZXNvdXJjZSA9IHJlcXVpcmUoJy4uL3Jlc291cmNlJyk7XG5cbmNsYXNzIFZpZGVvIGV4dGVuZHMgUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3RvcihhcGkpIHtcbiAgICBzdXBlcihhcGksICd2aWRlb3MnLCBbJ2FsbCcsICdyZXRyaWV2ZScsICdmaWxlcyddKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBWaWRlbztcbiIsImltcG9ydCBkZWZhdWx0cyBmcm9tICcuL2RlZmF1bHRzJztcbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4vcmVzb3VyY2VzL2NvbGxlY3Rpb25zJztcbmltcG9ydCBWaWRlbyBmcm9tICcuL3Jlc291cmNlcy92aWRlb3MnO1xuaW1wb3J0IEN1c3RvbWVyIGZyb20gJy4vcmVzb3VyY2VzL2N1c3RvbWVycyc7XG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuL3Jlc291cmNlcy9wcm9kdWN0cyc7XG5pbXBvcnQgQnJvd3NlIGZyb20gJy4vcmVzb3VyY2VzL2Jyb3dzZSc7XG5cbmxldCByZXNvdXJjZXMgPSB7XG4gIGNvbGxlY3Rpb25zIDogQ29sbGVjdGlvbixcbiAgdmlkZW9zICAgICAgOiBWaWRlbyxcbiAgcHJvZHVjdHMgICAgOiBQcm9kdWN0LFxuICBjdXN0b21lciAgICA6IEN1c3RvbWVyLFxuICBicm93c2UgICAgICA6IEJyb3dzZVxufTtcblxuY2xhc3Mgdmh4IHtcbiAgY29uc3RydWN0b3Ioa2V5KSB7XG4gICAgbGV0IF90aGlzICAgID0gdGhpcztcblxuICAgIGlmICghKF90aGlzIGluc3RhbmNlb2Ygdmh4KSkge1xuICAgICAgcmV0dXJuIG5ldyB2aHgoa2V5KTtcbiAgICB9XG5cbiAgICBfdGhpcy5hcGkgPSBrZXkgPyBfdGhpcy5zZXRBcGkoa2V5KSA6IF90aGlzLnNldFRva2VuKCk7XG4gICAgX3RoaXMucHJlcGFyZVJlc291cmNlcygpO1xuICB9XG5cbiAgc2V0QXBpKGtleSkge1xuICAgIHJldHVybiB7XG4gICAgICBhdXRoOiAnQmFzaWMgJyArIGJ0b2Eoa2V5KSxcbiAgICAgIGhvc3Q6IGRlZmF1bHRzLkhPU1QsXG4gICAgICBwcm90b2NvbDogZGVmYXVsdHMuUFJPVE9DT0wsXG4gICAgICB0aW1lb3V0OiBkZWZhdWx0cy5USU1FT1VUXG4gICAgfTtcbiAgfVxuXG4gIHNldFRva2VuKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0b2tlbjogbnVsbCxcbiAgICAgIGhvc3Q6IGRlZmF1bHRzLkhPU1QsXG4gICAgICBwcm90b2NvbDogZGVmYXVsdHMuUFJPVE9DT0wsXG4gICAgICB0aW1lb3V0OiBkZWZhdWx0cy5USU1FT1VULFxuICAgICAgdG9rZW5faG9zdDogZGVmYXVsdHMuVE9LRU5fSE9TVFxuICAgIH07XG4gIH1cblxuICBwcmVwYXJlUmVzb3VyY2VzKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBmb3IgKGxldCBuYW1lIGluIHJlc291cmNlcykge1xuICAgICAgX3RoaXNbbmFtZVswXS50b0xvd2VyQ2FzZSgpICsgbmFtZS5zdWJzdHJpbmcoMSldID0gbmV3IHJlc291cmNlc1tuYW1lXShfdGhpcy5hcGkpO1xuICAgIH1cbiAgfVxufVxuXG53aW5kb3cudmh4ID0gdmh4O1xuIiwiLyoqXG4gKiBSb290IHJlZmVyZW5jZSBmb3IgaWZyYW1lcy5cbiAqL1xuXG52YXIgcm9vdDtcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgeyAvLyBCcm93c2VyIHdpbmRvd1xuICByb290ID0gd2luZG93O1xufSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHsgLy8gV2ViIFdvcmtlclxuICByb290ID0gc2VsZjtcbn0gZWxzZSB7IC8vIE90aGVyIGVudmlyb25tZW50c1xuICBjb25zb2xlLndhcm4oXCJVc2luZyBicm93c2VyLW9ubHkgdmVyc2lvbiBvZiBzdXBlcmFnZW50IGluIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuICByb290ID0gdGhpcztcbn1cblxudmFyIEVtaXR0ZXIgPSByZXF1aXJlKCdlbWl0dGVyJyk7XG52YXIgcmVxdWVzdEJhc2UgPSByZXF1aXJlKCcuL3JlcXVlc3QtYmFzZScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pcy1vYmplY3QnKTtcblxuLyoqXG4gKiBOb29wLlxuICovXG5cbmZ1bmN0aW9uIG5vb3AoKXt9O1xuXG4vKipcbiAqIEV4cG9zZSBgcmVxdWVzdGAuXG4gKi9cblxudmFyIHJlcXVlc3QgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vcmVxdWVzdCcpLmJpbmQobnVsbCwgUmVxdWVzdCk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIFhIUi5cbiAqL1xuXG5yZXF1ZXN0LmdldFhIUiA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHJvb3QuWE1MSHR0cFJlcXVlc3RcbiAgICAgICYmICghcm9vdC5sb2NhdGlvbiB8fCAnZmlsZTonICE9IHJvb3QubG9jYXRpb24ucHJvdG9jb2xcbiAgICAgICAgICB8fCAhcm9vdC5BY3RpdmVYT2JqZWN0KSkge1xuICAgIHJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3Q7XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHsgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNaWNyb3NvZnQuWE1MSFRUUCcpOyB9IGNhdGNoKGUpIHt9XG4gICAgdHJ5IHsgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNc3htbDIuWE1MSFRUUC42LjAnKTsgfSBjYXRjaChlKSB7fVxuICAgIHRyeSB7IHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTXN4bWwyLlhNTEhUVFAuMy4wJyk7IH0gY2F0Y2goZSkge31cbiAgICB0cnkgeyByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01zeG1sMi5YTUxIVFRQJyk7IH0gY2F0Y2goZSkge31cbiAgfVxuICB0aHJvdyBFcnJvcihcIkJyb3dzZXItb25seSB2ZXJpc29uIG9mIHN1cGVyYWdlbnQgY291bGQgbm90IGZpbmQgWEhSXCIpO1xufTtcblxuLyoqXG4gKiBSZW1vdmVzIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UsIGFkZGVkIHRvIHN1cHBvcnQgSUUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbnZhciB0cmltID0gJycudHJpbVxuICA/IGZ1bmN0aW9uKHMpIHsgcmV0dXJuIHMudHJpbSgpOyB9XG4gIDogZnVuY3Rpb24ocykgeyByZXR1cm4gcy5yZXBsYWNlKC8oXlxccyp8XFxzKiQpL2csICcnKTsgfTtcblxuLyoqXG4gKiBTZXJpYWxpemUgdGhlIGdpdmVuIGBvYmpgLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZShvYmopIHtcbiAgaWYgKCFpc09iamVjdChvYmopKSByZXR1cm4gb2JqO1xuICB2YXIgcGFpcnMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIHB1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLCBrZXksIG9ialtrZXldKTtcbiAgfVxuICByZXR1cm4gcGFpcnMuam9pbignJicpO1xufVxuXG4vKipcbiAqIEhlbHBzICdzZXJpYWxpemUnIHdpdGggc2VyaWFsaXppbmcgYXJyYXlzLlxuICogTXV0YXRlcyB0aGUgcGFpcnMgYXJyYXkuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcGFpcnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuICovXG5cbmZ1bmN0aW9uIHB1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLCBrZXksIHZhbCkge1xuICBpZiAodmFsICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICB2YWwuZm9yRWFjaChmdW5jdGlvbih2KSB7XG4gICAgICAgIHB1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLCBrZXksIHYpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChpc09iamVjdCh2YWwpKSB7XG4gICAgICBmb3IodmFyIHN1YmtleSBpbiB2YWwpIHtcbiAgICAgICAgcHVzaEVuY29kZWRLZXlWYWx1ZVBhaXIocGFpcnMsIGtleSArICdbJyArIHN1YmtleSArICddJywgdmFsW3N1YmtleV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwYWlycy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpXG4gICAgICAgICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICBwYWlycy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpKTtcbiAgfVxufVxuXG4vKipcbiAqIEV4cG9zZSBzZXJpYWxpemF0aW9uIG1ldGhvZC5cbiAqL1xuXG4gcmVxdWVzdC5zZXJpYWxpemVPYmplY3QgPSBzZXJpYWxpemU7XG5cbiAvKipcbiAgKiBQYXJzZSB0aGUgZ2l2ZW4geC13d3ctZm9ybS11cmxlbmNvZGVkIGBzdHJgLlxuICAqXG4gICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICAqIEByZXR1cm4ge09iamVjdH1cbiAgKiBAYXBpIHByaXZhdGVcbiAgKi9cblxuZnVuY3Rpb24gcGFyc2VTdHJpbmcoc3RyKSB7XG4gIHZhciBvYmogPSB7fTtcbiAgdmFyIHBhaXJzID0gc3RyLnNwbGl0KCcmJyk7XG4gIHZhciBwYWlyO1xuICB2YXIgcG9zO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwYWlycy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgIHBhaXIgPSBwYWlyc1tpXTtcbiAgICBwb3MgPSBwYWlyLmluZGV4T2YoJz0nKTtcbiAgICBpZiAocG9zID09IC0xKSB7XG4gICAgICBvYmpbZGVjb2RlVVJJQ29tcG9uZW50KHBhaXIpXSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpbZGVjb2RlVVJJQ29tcG9uZW50KHBhaXIuc2xpY2UoMCwgcG9zKSldID1cbiAgICAgICAgZGVjb2RlVVJJQ29tcG9uZW50KHBhaXIuc2xpY2UocG9zICsgMSkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogRXhwb3NlIHBhcnNlci5cbiAqL1xuXG5yZXF1ZXN0LnBhcnNlU3RyaW5nID0gcGFyc2VTdHJpbmc7XG5cbi8qKlxuICogRGVmYXVsdCBNSU1FIHR5cGUgbWFwLlxuICpcbiAqICAgICBzdXBlcmFnZW50LnR5cGVzLnhtbCA9ICdhcHBsaWNhdGlvbi94bWwnO1xuICpcbiAqL1xuXG5yZXF1ZXN0LnR5cGVzID0ge1xuICBodG1sOiAndGV4dC9odG1sJyxcbiAganNvbjogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICB4bWw6ICdhcHBsaWNhdGlvbi94bWwnLFxuICB1cmxlbmNvZGVkOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgJ2Zvcm0nOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgJ2Zvcm0tZGF0YSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG4vKipcbiAqIERlZmF1bHQgc2VyaWFsaXphdGlvbiBtYXAuXG4gKlxuICogICAgIHN1cGVyYWdlbnQuc2VyaWFsaXplWydhcHBsaWNhdGlvbi94bWwnXSA9IGZ1bmN0aW9uKG9iail7XG4gKiAgICAgICByZXR1cm4gJ2dlbmVyYXRlZCB4bWwgaGVyZSc7XG4gKiAgICAgfTtcbiAqXG4gKi9cblxuIHJlcXVlc3Quc2VyaWFsaXplID0ge1xuICAgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCc6IHNlcmlhbGl6ZSxcbiAgICdhcHBsaWNhdGlvbi9qc29uJzogSlNPTi5zdHJpbmdpZnlcbiB9O1xuXG4gLyoqXG4gICogRGVmYXVsdCBwYXJzZXJzLlxuICAqXG4gICogICAgIHN1cGVyYWdlbnQucGFyc2VbJ2FwcGxpY2F0aW9uL3htbCddID0gZnVuY3Rpb24oc3RyKXtcbiAgKiAgICAgICByZXR1cm4geyBvYmplY3QgcGFyc2VkIGZyb20gc3RyIH07XG4gICogICAgIH07XG4gICpcbiAgKi9cblxucmVxdWVzdC5wYXJzZSA9IHtcbiAgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCc6IHBhcnNlU3RyaW5nLFxuICAnYXBwbGljYXRpb24vanNvbic6IEpTT04ucGFyc2Vcbn07XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGhlYWRlciBgc3RyYCBpbnRvXG4gKiBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgbWFwcGVkIGZpZWxkcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZUhlYWRlcihzdHIpIHtcbiAgdmFyIGxpbmVzID0gc3RyLnNwbGl0KC9cXHI/XFxuLyk7XG4gIHZhciBmaWVsZHMgPSB7fTtcbiAgdmFyIGluZGV4O1xuICB2YXIgbGluZTtcbiAgdmFyIGZpZWxkO1xuICB2YXIgdmFsO1xuXG4gIGxpbmVzLnBvcCgpOyAvLyB0cmFpbGluZyBDUkxGXG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxpbmVzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgbGluZSA9IGxpbmVzW2ldO1xuICAgIGluZGV4ID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAgZmllbGQgPSBsaW5lLnNsaWNlKDAsIGluZGV4KS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHRyaW0obGluZS5zbGljZShpbmRleCArIDEpKTtcbiAgICBmaWVsZHNbZmllbGRdID0gdmFsO1xuICB9XG5cbiAgcmV0dXJuIGZpZWxkcztcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBgbWltZWAgaXMganNvbiBvciBoYXMgK2pzb24gc3RydWN0dXJlZCBzeW50YXggc3VmZml4LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtaW1lXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gaXNKU09OKG1pbWUpIHtcbiAgcmV0dXJuIC9bXFwvK11qc29uXFxiLy50ZXN0KG1pbWUpO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgbWltZSB0eXBlIGZvciB0aGUgZ2l2ZW4gYHN0cmAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gdHlwZShzdHIpe1xuICByZXR1cm4gc3RyLnNwbGl0KC8gKjsgKi8pLnNoaWZ0KCk7XG59O1xuXG4vKipcbiAqIFJldHVybiBoZWFkZXIgZmllbGQgcGFyYW1ldGVycy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJhbXMoc3RyKXtcbiAgcmV0dXJuIHN0ci5zcGxpdCgvICo7ICovKS5yZWR1Y2UoZnVuY3Rpb24ob2JqLCBzdHIpe1xuICAgIHZhciBwYXJ0cyA9IHN0ci5zcGxpdCgvICo9ICovKSxcbiAgICAgICAga2V5ID0gcGFydHMuc2hpZnQoKSxcbiAgICAgICAgdmFsID0gcGFydHMuc2hpZnQoKTtcblxuICAgIGlmIChrZXkgJiYgdmFsKSBvYmpba2V5XSA9IHZhbDtcbiAgICByZXR1cm4gb2JqO1xuICB9LCB7fSk7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFJlc3BvbnNlYCB3aXRoIHRoZSBnaXZlbiBgeGhyYC5cbiAqXG4gKiAgLSBzZXQgZmxhZ3MgKC5vaywgLmVycm9yLCBldGMpXG4gKiAgLSBwYXJzZSBoZWFkZXJcbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgQWxpYXNpbmcgYHN1cGVyYWdlbnRgIGFzIGByZXF1ZXN0YCBpcyBuaWNlOlxuICpcbiAqICAgICAgcmVxdWVzdCA9IHN1cGVyYWdlbnQ7XG4gKlxuICogIFdlIGNhbiB1c2UgdGhlIHByb21pc2UtbGlrZSBBUEksIG9yIHBhc3MgY2FsbGJhY2tzOlxuICpcbiAqICAgICAgcmVxdWVzdC5nZXQoJy8nKS5lbmQoZnVuY3Rpb24ocmVzKXt9KTtcbiAqICAgICAgcmVxdWVzdC5nZXQoJy8nLCBmdW5jdGlvbihyZXMpe30pO1xuICpcbiAqICBTZW5kaW5nIGRhdGEgY2FuIGJlIGNoYWluZWQ6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJylcbiAqICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSlcbiAqICAgICAgICAuZW5kKGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogIE9yIHBhc3NlZCB0byBgLnNlbmQoKWA6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJylcbiAqICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSwgZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiAgT3IgcGFzc2VkIHRvIGAucG9zdCgpYDpcbiAqXG4gKiAgICAgIHJlcXVlc3RcbiAqICAgICAgICAucG9zdCgnL3VzZXInLCB7IG5hbWU6ICd0aicgfSlcbiAqICAgICAgICAuZW5kKGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogT3IgZnVydGhlciByZWR1Y2VkIHRvIGEgc2luZ2xlIGNhbGwgZm9yIHNpbXBsZSBjYXNlczpcbiAqXG4gKiAgICAgIHJlcXVlc3RcbiAqICAgICAgICAucG9zdCgnL3VzZXInLCB7IG5hbWU6ICd0aicgfSwgZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiBAcGFyYW0ge1hNTEhUVFBSZXF1ZXN0fSB4aHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBSZXNwb25zZShyZXEsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHRoaXMucmVxID0gcmVxO1xuICB0aGlzLnhociA9IHRoaXMucmVxLnhocjtcbiAgLy8gcmVzcG9uc2VUZXh0IGlzIGFjY2Vzc2libGUgb25seSBpZiByZXNwb25zZVR5cGUgaXMgJycgb3IgJ3RleHQnIGFuZCBvbiBvbGRlciBicm93c2Vyc1xuICB0aGlzLnRleHQgPSAoKHRoaXMucmVxLm1ldGhvZCAhPSdIRUFEJyAmJiAodGhpcy54aHIucmVzcG9uc2VUeXBlID09PSAnJyB8fCB0aGlzLnhoci5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JykpIHx8IHR5cGVvZiB0aGlzLnhoci5yZXNwb25zZVR5cGUgPT09ICd1bmRlZmluZWQnKVxuICAgICA/IHRoaXMueGhyLnJlc3BvbnNlVGV4dFxuICAgICA6IG51bGw7XG4gIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMucmVxLnhoci5zdGF0dXNUZXh0O1xuICB0aGlzLl9zZXRTdGF0dXNQcm9wZXJ0aWVzKHRoaXMueGhyLnN0YXR1cyk7XG4gIHRoaXMuaGVhZGVyID0gdGhpcy5oZWFkZXJzID0gcGFyc2VIZWFkZXIodGhpcy54aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpO1xuICAvLyBnZXRBbGxSZXNwb25zZUhlYWRlcnMgc29tZXRpbWVzIGZhbHNlbHkgcmV0dXJucyBcIlwiIGZvciBDT1JTIHJlcXVlc3RzLCBidXRcbiAgLy8gZ2V0UmVzcG9uc2VIZWFkZXIgc3RpbGwgd29ya3MuIHNvIHdlIGdldCBjb250ZW50LXR5cGUgZXZlbiBpZiBnZXR0aW5nXG4gIC8vIG90aGVyIGhlYWRlcnMgZmFpbHMuXG4gIHRoaXMuaGVhZGVyWydjb250ZW50LXR5cGUnXSA9IHRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTtcbiAgdGhpcy5fc2V0SGVhZGVyUHJvcGVydGllcyh0aGlzLmhlYWRlcik7XG4gIHRoaXMuYm9keSA9IHRoaXMucmVxLm1ldGhvZCAhPSAnSEVBRCdcbiAgICA/IHRoaXMuX3BhcnNlQm9keSh0aGlzLnRleHQgPyB0aGlzLnRleHQgOiB0aGlzLnhoci5yZXNwb25zZSlcbiAgICA6IG51bGw7XG59XG5cbi8qKlxuICogR2V0IGNhc2UtaW5zZW5zaXRpdmUgYGZpZWxkYCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZmllbGRcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVzcG9uc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGZpZWxkKXtcbiAgcmV0dXJuIHRoaXMuaGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldO1xufTtcblxuLyoqXG4gKiBTZXQgaGVhZGVyIHJlbGF0ZWQgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gYC50eXBlYCB0aGUgY29udGVudCB0eXBlIHdpdGhvdXQgcGFyYW1zXG4gKlxuICogQSByZXNwb25zZSBvZiBcIkNvbnRlbnQtVHlwZTogdGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiXG4gKiB3aWxsIHByb3ZpZGUgeW91IHdpdGggYSBgLnR5cGVgIG9mIFwidGV4dC9wbGFpblwiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBoZWFkZXJcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlc3BvbnNlLnByb3RvdHlwZS5fc2V0SGVhZGVyUHJvcGVydGllcyA9IGZ1bmN0aW9uKGhlYWRlcil7XG4gIC8vIGNvbnRlbnQtdHlwZVxuICB2YXIgY3QgPSB0aGlzLmhlYWRlclsnY29udGVudC10eXBlJ10gfHwgJyc7XG4gIHRoaXMudHlwZSA9IHR5cGUoY3QpO1xuXG4gIC8vIHBhcmFtc1xuICB2YXIgb2JqID0gcGFyYW1zKGN0KTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikgdGhpc1trZXldID0gb2JqW2tleV07XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBib2R5IGBzdHJgLlxuICpcbiAqIFVzZWQgZm9yIGF1dG8tcGFyc2luZyBvZiBib2RpZXMuIFBhcnNlcnNcbiAqIGFyZSBkZWZpbmVkIG9uIHRoZSBgc3VwZXJhZ2VudC5wYXJzZWAgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge01peGVkfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVzcG9uc2UucHJvdG90eXBlLl9wYXJzZUJvZHkgPSBmdW5jdGlvbihzdHIpe1xuICB2YXIgcGFyc2UgPSByZXF1ZXN0LnBhcnNlW3RoaXMudHlwZV07XG4gIGlmICghcGFyc2UgJiYgaXNKU09OKHRoaXMudHlwZSkpIHtcbiAgICBwYXJzZSA9IHJlcXVlc3QucGFyc2VbJ2FwcGxpY2F0aW9uL2pzb24nXTtcbiAgfVxuICByZXR1cm4gcGFyc2UgJiYgc3RyICYmIChzdHIubGVuZ3RoIHx8IHN0ciBpbnN0YW5jZW9mIE9iamVjdClcbiAgICA/IHBhcnNlKHN0cilcbiAgICA6IG51bGw7XG59O1xuXG4vKipcbiAqIFNldCBmbGFncyBzdWNoIGFzIGAub2tgIGJhc2VkIG9uIGBzdGF0dXNgLlxuICpcbiAqIEZvciBleGFtcGxlIGEgMnh4IHJlc3BvbnNlIHdpbGwgZ2l2ZSB5b3UgYSBgLm9rYCBvZiBfX3RydWVfX1xuICogd2hlcmVhcyA1eHggd2lsbCBiZSBfX2ZhbHNlX18gYW5kIGAuZXJyb3JgIHdpbGwgYmUgX190cnVlX18uIFRoZVxuICogYC5jbGllbnRFcnJvcmAgYW5kIGAuc2VydmVyRXJyb3JgIGFyZSBhbHNvIGF2YWlsYWJsZSB0byBiZSBtb3JlXG4gKiBzcGVjaWZpYywgYW5kIGAuc3RhdHVzVHlwZWAgaXMgdGhlIGNsYXNzIG9mIGVycm9yIHJhbmdpbmcgZnJvbSAxLi41XG4gKiBzb21ldGltZXMgdXNlZnVsIGZvciBtYXBwaW5nIHJlc3BvbmQgY29sb3JzIGV0Yy5cbiAqXG4gKiBcInN1Z2FyXCIgcHJvcGVydGllcyBhcmUgYWxzbyBkZWZpbmVkIGZvciBjb21tb24gY2FzZXMuIEN1cnJlbnRseSBwcm92aWRpbmc6XG4gKlxuICogICAtIC5ub0NvbnRlbnRcbiAqICAgLSAuYmFkUmVxdWVzdFxuICogICAtIC51bmF1dGhvcml6ZWRcbiAqICAgLSAubm90QWNjZXB0YWJsZVxuICogICAtIC5ub3RGb3VuZFxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdGF0dXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlc3BvbnNlLnByb3RvdHlwZS5fc2V0U3RhdHVzUHJvcGVydGllcyA9IGZ1bmN0aW9uKHN0YXR1cyl7XG4gIC8vIGhhbmRsZSBJRTkgYnVnOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwMDQ2OTcyL21zaWUtcmV0dXJucy1zdGF0dXMtY29kZS1vZi0xMjIzLWZvci1hamF4LXJlcXVlc3RcbiAgaWYgKHN0YXR1cyA9PT0gMTIyMykge1xuICAgIHN0YXR1cyA9IDIwNDtcbiAgfVxuXG4gIHZhciB0eXBlID0gc3RhdHVzIC8gMTAwIHwgMDtcblxuICAvLyBzdGF0dXMgLyBjbGFzc1xuICB0aGlzLnN0YXR1cyA9IHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1cztcbiAgdGhpcy5zdGF0dXNUeXBlID0gdHlwZTtcblxuICAvLyBiYXNpY3NcbiAgdGhpcy5pbmZvID0gMSA9PSB0eXBlO1xuICB0aGlzLm9rID0gMiA9PSB0eXBlO1xuICB0aGlzLmNsaWVudEVycm9yID0gNCA9PSB0eXBlO1xuICB0aGlzLnNlcnZlckVycm9yID0gNSA9PSB0eXBlO1xuICB0aGlzLmVycm9yID0gKDQgPT0gdHlwZSB8fCA1ID09IHR5cGUpXG4gICAgPyB0aGlzLnRvRXJyb3IoKVxuICAgIDogZmFsc2U7XG5cbiAgLy8gc3VnYXJcbiAgdGhpcy5hY2NlcHRlZCA9IDIwMiA9PSBzdGF0dXM7XG4gIHRoaXMubm9Db250ZW50ID0gMjA0ID09IHN0YXR1cztcbiAgdGhpcy5iYWRSZXF1ZXN0ID0gNDAwID09IHN0YXR1cztcbiAgdGhpcy51bmF1dGhvcml6ZWQgPSA0MDEgPT0gc3RhdHVzO1xuICB0aGlzLm5vdEFjY2VwdGFibGUgPSA0MDYgPT0gc3RhdHVzO1xuICB0aGlzLm5vdEZvdW5kID0gNDA0ID09IHN0YXR1cztcbiAgdGhpcy5mb3JiaWRkZW4gPSA0MDMgPT0gc3RhdHVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYW4gYEVycm9yYCByZXByZXNlbnRhdGl2ZSBvZiB0aGlzIHJlc3BvbnNlLlxuICpcbiAqIEByZXR1cm4ge0Vycm9yfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXNwb25zZS5wcm90b3R5cGUudG9FcnJvciA9IGZ1bmN0aW9uKCl7XG4gIHZhciByZXEgPSB0aGlzLnJlcTtcbiAgdmFyIG1ldGhvZCA9IHJlcS5tZXRob2Q7XG4gIHZhciB1cmwgPSByZXEudXJsO1xuXG4gIHZhciBtc2cgPSAnY2Fubm90ICcgKyBtZXRob2QgKyAnICcgKyB1cmwgKyAnICgnICsgdGhpcy5zdGF0dXMgKyAnKSc7XG4gIHZhciBlcnIgPSBuZXcgRXJyb3IobXNnKTtcbiAgZXJyLnN0YXR1cyA9IHRoaXMuc3RhdHVzO1xuICBlcnIubWV0aG9kID0gbWV0aG9kO1xuICBlcnIudXJsID0gdXJsO1xuXG4gIHJldHVybiBlcnI7XG59O1xuXG4vKipcbiAqIEV4cG9zZSBgUmVzcG9uc2VgLlxuICovXG5cbnJlcXVlc3QuUmVzcG9uc2UgPSBSZXNwb25zZTtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IGBSZXF1ZXN0YCB3aXRoIHRoZSBnaXZlbiBgbWV0aG9kYCBhbmQgYHVybGAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZFxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBSZXF1ZXN0KG1ldGhvZCwgdXJsKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5fcXVlcnkgPSB0aGlzLl9xdWVyeSB8fCBbXTtcbiAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gIHRoaXMudXJsID0gdXJsO1xuICB0aGlzLmhlYWRlciA9IHt9OyAvLyBwcmVzZXJ2ZXMgaGVhZGVyIG5hbWUgY2FzZVxuICB0aGlzLl9oZWFkZXIgPSB7fTsgLy8gY29lcmNlcyBoZWFkZXIgbmFtZXMgdG8gbG93ZXJjYXNlXG4gIHRoaXMub24oJ2VuZCcsIGZ1bmN0aW9uKCl7XG4gICAgdmFyIGVyciA9IG51bGw7XG4gICAgdmFyIHJlcyA9IG51bGw7XG5cbiAgICB0cnkge1xuICAgICAgcmVzID0gbmV3IFJlc3BvbnNlKHNlbGYpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgZXJyID0gbmV3IEVycm9yKCdQYXJzZXIgaXMgdW5hYmxlIHRvIHBhcnNlIHRoZSByZXNwb25zZScpO1xuICAgICAgZXJyLnBhcnNlID0gdHJ1ZTtcbiAgICAgIGVyci5vcmlnaW5hbCA9IGU7XG4gICAgICAvLyBpc3N1ZSAjNjc1OiByZXR1cm4gdGhlIHJhdyByZXNwb25zZSBpZiB0aGUgcmVzcG9uc2UgcGFyc2luZyBmYWlsc1xuICAgICAgZXJyLnJhd1Jlc3BvbnNlID0gc2VsZi54aHIgJiYgc2VsZi54aHIucmVzcG9uc2VUZXh0ID8gc2VsZi54aHIucmVzcG9uc2VUZXh0IDogbnVsbDtcbiAgICAgIC8vIGlzc3VlICM4NzY6IHJldHVybiB0aGUgaHR0cCBzdGF0dXMgY29kZSBpZiB0aGUgcmVzcG9uc2UgcGFyc2luZyBmYWlsc1xuICAgICAgZXJyLnN0YXR1c0NvZGUgPSBzZWxmLnhociAmJiBzZWxmLnhoci5zdGF0dXMgPyBzZWxmLnhoci5zdGF0dXMgOiBudWxsO1xuICAgICAgcmV0dXJuIHNlbGYuY2FsbGJhY2soZXJyKTtcbiAgICB9XG5cbiAgICBzZWxmLmVtaXQoJ3Jlc3BvbnNlJywgcmVzKTtcblxuICAgIHZhciBuZXdfZXJyO1xuICAgIHRyeSB7XG4gICAgICBpZiAocmVzLnN0YXR1cyA8IDIwMCB8fCByZXMuc3RhdHVzID49IDMwMCkge1xuICAgICAgICBuZXdfZXJyID0gbmV3IEVycm9yKHJlcy5zdGF0dXNUZXh0IHx8ICdVbnN1Y2Nlc3NmdWwgSFRUUCByZXNwb25zZScpO1xuICAgICAgICBuZXdfZXJyLm9yaWdpbmFsID0gZXJyO1xuICAgICAgICBuZXdfZXJyLnJlc3BvbnNlID0gcmVzO1xuICAgICAgICBuZXdfZXJyLnN0YXR1cyA9IHJlcy5zdGF0dXM7XG4gICAgICB9XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBuZXdfZXJyID0gZTsgLy8gIzk4NSB0b3VjaGluZyByZXMgbWF5IGNhdXNlIElOVkFMSURfU1RBVEVfRVJSIG9uIG9sZCBBbmRyb2lkXG4gICAgfVxuXG4gICAgLy8gIzEwMDAgZG9uJ3QgY2F0Y2ggZXJyb3JzIGZyb20gdGhlIGNhbGxiYWNrIHRvIGF2b2lkIGRvdWJsZSBjYWxsaW5nIGl0XG4gICAgaWYgKG5ld19lcnIpIHtcbiAgICAgIHNlbGYuY2FsbGJhY2sobmV3X2VyciwgcmVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5jYWxsYmFjayhudWxsLCByZXMpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogTWl4aW4gYEVtaXR0ZXJgIGFuZCBgcmVxdWVzdEJhc2VgLlxuICovXG5cbkVtaXR0ZXIoUmVxdWVzdC5wcm90b3R5cGUpO1xuZm9yICh2YXIga2V5IGluIHJlcXVlc3RCYXNlKSB7XG4gIFJlcXVlc3QucHJvdG90eXBlW2tleV0gPSByZXF1ZXN0QmFzZVtrZXldO1xufVxuXG4vKipcbiAqIFNldCBDb250ZW50LVR5cGUgdG8gYHR5cGVgLCBtYXBwaW5nIHZhbHVlcyBmcm9tIGByZXF1ZXN0LnR5cGVzYC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHN1cGVyYWdlbnQudHlwZXMueG1sID0gJ2FwcGxpY2F0aW9uL3htbCc7XG4gKlxuICogICAgICByZXF1ZXN0LnBvc3QoJy8nKVxuICogICAgICAgIC50eXBlKCd4bWwnKVxuICogICAgICAgIC5zZW5kKHhtbHN0cmluZylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiAgICAgIHJlcXVlc3QucG9zdCgnLycpXG4gKiAgICAgICAgLnR5cGUoJ2FwcGxpY2F0aW9uL3htbCcpXG4gKiAgICAgICAgLnNlbmQoeG1sc3RyaW5nKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUudHlwZSA9IGZ1bmN0aW9uKHR5cGUpe1xuICB0aGlzLnNldCgnQ29udGVudC1UeXBlJywgcmVxdWVzdC50eXBlc1t0eXBlXSB8fCB0eXBlKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCByZXNwb25zZVR5cGUgdG8gYHZhbGAuIFByZXNlbnRseSB2YWxpZCByZXNwb25zZVR5cGVzIGFyZSAnYmxvYicgYW5kXG4gKiAnYXJyYXlidWZmZXInLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgcmVxLmdldCgnLycpXG4gKiAgICAgICAgLnJlc3BvbnNlVHlwZSgnYmxvYicpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHZhbFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLnJlc3BvbnNlVHlwZSA9IGZ1bmN0aW9uKHZhbCl7XG4gIHRoaXMuX3Jlc3BvbnNlVHlwZSA9IHZhbDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCBBY2NlcHQgdG8gYHR5cGVgLCBtYXBwaW5nIHZhbHVlcyBmcm9tIGByZXF1ZXN0LnR5cGVzYC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHN1cGVyYWdlbnQudHlwZXMuanNvbiA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAqXG4gKiAgICAgIHJlcXVlc3QuZ2V0KCcvYWdlbnQnKVxuICogICAgICAgIC5hY2NlcHQoJ2pzb24nKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqICAgICAgcmVxdWVzdC5nZXQoJy9hZ2VudCcpXG4gKiAgICAgICAgLmFjY2VwdCgnYXBwbGljYXRpb24vanNvbicpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFjY2VwdFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uKHR5cGUpe1xuICB0aGlzLnNldCgnQWNjZXB0JywgcmVxdWVzdC50eXBlc1t0eXBlXSB8fCB0eXBlKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCBBdXRob3JpemF0aW9uIGZpZWxkIHZhbHVlIHdpdGggYHVzZXJgIGFuZCBgcGFzc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVzZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXNzXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyB3aXRoICd0eXBlJyBwcm9wZXJ0eSAnYXV0bycgb3IgJ2Jhc2ljJyAoZGVmYXVsdCAnYmFzaWMnKVxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmF1dGggPSBmdW5jdGlvbih1c2VyLCBwYXNzLCBvcHRpb25zKXtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIHR5cGU6ICdiYXNpYydcbiAgICB9XG4gIH1cblxuICBzd2l0Y2ggKG9wdGlvbnMudHlwZSkge1xuICAgIGNhc2UgJ2Jhc2ljJzpcbiAgICAgIHZhciBzdHIgPSBidG9hKHVzZXIgKyAnOicgKyBwYXNzKTtcbiAgICAgIHRoaXMuc2V0KCdBdXRob3JpemF0aW9uJywgJ0Jhc2ljICcgKyBzdHIpO1xuICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnYXV0byc6XG4gICAgICB0aGlzLnVzZXJuYW1lID0gdXNlcjtcbiAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzO1xuICAgIGJyZWFrO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4qIEFkZCBxdWVyeS1zdHJpbmcgYHZhbGAuXG4qXG4qIEV4YW1wbGVzOlxuKlxuKiAgIHJlcXVlc3QuZ2V0KCcvc2hvZXMnKVxuKiAgICAgLnF1ZXJ5KCdzaXplPTEwJylcbiogICAgIC5xdWVyeSh7IGNvbG9yOiAnYmx1ZScgfSlcbipcbiogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSB2YWxcbiogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4qIEBhcGkgcHVibGljXG4qL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5xdWVyeSA9IGZ1bmN0aW9uKHZhbCl7XG4gIGlmICgnc3RyaW5nJyAhPSB0eXBlb2YgdmFsKSB2YWwgPSBzZXJpYWxpemUodmFsKTtcbiAgaWYgKHZhbCkgdGhpcy5fcXVlcnkucHVzaCh2YWwpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUXVldWUgdGhlIGdpdmVuIGBmaWxlYCBhcyBhbiBhdHRhY2htZW50IHRvIHRoZSBzcGVjaWZpZWQgYGZpZWxkYCxcbiAqIHdpdGggb3B0aW9uYWwgYGZpbGVuYW1lYC5cbiAqXG4gKiBgYGAganNcbiAqIHJlcXVlc3QucG9zdCgnL3VwbG9hZCcpXG4gKiAgIC5hdHRhY2goJ2NvbnRlbnQnLCBuZXcgQmxvYihbJzxhIGlkPVwiYVwiPjxiIGlkPVwiYlwiPmhleSE8L2I+PC9hPiddLCB7IHR5cGU6IFwidGV4dC9odG1sXCJ9KSlcbiAqICAgLmVuZChjYWxsYmFjayk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZmllbGRcbiAqIEBwYXJhbSB7QmxvYnxGaWxlfSBmaWxlXG4gKiBAcGFyYW0ge1N0cmluZ30gZmlsZW5hbWVcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbihmaWVsZCwgZmlsZSwgZmlsZW5hbWUpe1xuICB0aGlzLl9nZXRGb3JtRGF0YSgpLmFwcGVuZChmaWVsZCwgZmlsZSwgZmlsZW5hbWUgfHwgZmlsZS5uYW1lKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5fZ2V0Rm9ybURhdGEgPSBmdW5jdGlvbigpe1xuICBpZiAoIXRoaXMuX2Zvcm1EYXRhKSB7XG4gICAgdGhpcy5fZm9ybURhdGEgPSBuZXcgcm9vdC5Gb3JtRGF0YSgpO1xuICB9XG4gIHJldHVybiB0aGlzLl9mb3JtRGF0YTtcbn07XG5cbi8qKlxuICogSW52b2tlIHRoZSBjYWxsYmFjayB3aXRoIGBlcnJgIGFuZCBgcmVzYFxuICogYW5kIGhhbmRsZSBhcml0eSBjaGVjay5cbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJcbiAqIEBwYXJhbSB7UmVzcG9uc2V9IHJlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuY2FsbGJhY2sgPSBmdW5jdGlvbihlcnIsIHJlcyl7XG4gIHZhciBmbiA9IHRoaXMuX2NhbGxiYWNrO1xuICB0aGlzLmNsZWFyVGltZW91dCgpO1xuICBmbihlcnIsIHJlcyk7XG59O1xuXG4vKipcbiAqIEludm9rZSBjYWxsYmFjayB3aXRoIHgtZG9tYWluIGVycm9yLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmNyb3NzRG9tYWluRXJyb3IgPSBmdW5jdGlvbigpe1xuICB2YXIgZXJyID0gbmV3IEVycm9yKCdSZXF1ZXN0IGhhcyBiZWVuIHRlcm1pbmF0ZWRcXG5Qb3NzaWJsZSBjYXVzZXM6IHRoZSBuZXR3b3JrIGlzIG9mZmxpbmUsIE9yaWdpbiBpcyBub3QgYWxsb3dlZCBieSBBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4sIHRoZSBwYWdlIGlzIGJlaW5nIHVubG9hZGVkLCBldGMuJyk7XG4gIGVyci5jcm9zc0RvbWFpbiA9IHRydWU7XG5cbiAgZXJyLnN0YXR1cyA9IHRoaXMuc3RhdHVzO1xuICBlcnIubWV0aG9kID0gdGhpcy5tZXRob2Q7XG4gIGVyci51cmwgPSB0aGlzLnVybDtcblxuICB0aGlzLmNhbGxiYWNrKGVycik7XG59O1xuXG4vKipcbiAqIEludm9rZSBjYWxsYmFjayB3aXRoIHRpbWVvdXQgZXJyb3IuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuX3RpbWVvdXRFcnJvciA9IGZ1bmN0aW9uKCl7XG4gIHZhciB0aW1lb3V0ID0gdGhpcy5fdGltZW91dDtcbiAgdmFyIGVyciA9IG5ldyBFcnJvcigndGltZW91dCBvZiAnICsgdGltZW91dCArICdtcyBleGNlZWRlZCcpO1xuICBlcnIudGltZW91dCA9IHRpbWVvdXQ7XG4gIHRoaXMuY2FsbGJhY2soZXJyKTtcbn07XG5cbi8qKlxuICogQ29tcG9zZSBxdWVyeXN0cmluZyB0byBhcHBlbmQgdG8gcmVxLnVybFxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3QucHJvdG90eXBlLl9hcHBlbmRRdWVyeVN0cmluZyA9IGZ1bmN0aW9uKCl7XG4gIHZhciBxdWVyeSA9IHRoaXMuX3F1ZXJ5LmpvaW4oJyYnKTtcbiAgaWYgKHF1ZXJ5KSB7XG4gICAgdGhpcy51cmwgKz0gfnRoaXMudXJsLmluZGV4T2YoJz8nKVxuICAgICAgPyAnJicgKyBxdWVyeVxuICAgICAgOiAnPycgKyBxdWVyeTtcbiAgfVxufTtcblxuLyoqXG4gKiBJbml0aWF0ZSByZXF1ZXN0LCBpbnZva2luZyBjYWxsYmFjayBgZm4ocmVzKWBcbiAqIHdpdGggYW4gaW5zdGFuY2VvZiBgUmVzcG9uc2VgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24oZm4pe1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciB4aHIgPSB0aGlzLnhociA9IHJlcXVlc3QuZ2V0WEhSKCk7XG4gIHZhciB0aW1lb3V0ID0gdGhpcy5fdGltZW91dDtcbiAgdmFyIGRhdGEgPSB0aGlzLl9mb3JtRGF0YSB8fCB0aGlzLl9kYXRhO1xuXG4gIC8vIHN0b3JlIGNhbGxiYWNrXG4gIHRoaXMuX2NhbGxiYWNrID0gZm4gfHwgbm9vcDtcblxuICAvLyBzdGF0ZSBjaGFuZ2VcbiAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCl7XG4gICAgaWYgKDQgIT0geGhyLnJlYWR5U3RhdGUpIHJldHVybjtcblxuICAgIC8vIEluIElFOSwgcmVhZHMgdG8gYW55IHByb3BlcnR5IChlLmcuIHN0YXR1cykgb2ZmIG9mIGFuIGFib3J0ZWQgWEhSIHdpbGxcbiAgICAvLyByZXN1bHQgaW4gdGhlIGVycm9yIFwiQ291bGQgbm90IGNvbXBsZXRlIHRoZSBvcGVyYXRpb24gZHVlIHRvIGVycm9yIGMwMGMwMjNmXCJcbiAgICB2YXIgc3RhdHVzO1xuICAgIHRyeSB7IHN0YXR1cyA9IHhoci5zdGF0dXMgfSBjYXRjaChlKSB7IHN0YXR1cyA9IDA7IH1cblxuICAgIGlmICgwID09IHN0YXR1cykge1xuICAgICAgaWYgKHNlbGYudGltZWRvdXQpIHJldHVybiBzZWxmLl90aW1lb3V0RXJyb3IoKTtcbiAgICAgIGlmIChzZWxmLl9hYm9ydGVkKSByZXR1cm47XG4gICAgICByZXR1cm4gc2VsZi5jcm9zc0RvbWFpbkVycm9yKCk7XG4gICAgfVxuICAgIHNlbGYuZW1pdCgnZW5kJyk7XG4gIH07XG5cbiAgLy8gcHJvZ3Jlc3NcbiAgdmFyIGhhbmRsZVByb2dyZXNzID0gZnVuY3Rpb24oZSl7XG4gICAgaWYgKGUudG90YWwgPiAwKSB7XG4gICAgICBlLnBlcmNlbnQgPSBlLmxvYWRlZCAvIGUudG90YWwgKiAxMDA7XG4gICAgfVxuICAgIGUuZGlyZWN0aW9uID0gJ2Rvd25sb2FkJztcbiAgICBzZWxmLmVtaXQoJ3Byb2dyZXNzJywgZSk7XG4gIH07XG4gIGlmICh0aGlzLmhhc0xpc3RlbmVycygncHJvZ3Jlc3MnKSkge1xuICAgIHhoci5vbnByb2dyZXNzID0gaGFuZGxlUHJvZ3Jlc3M7XG4gIH1cbiAgdHJ5IHtcbiAgICBpZiAoeGhyLnVwbG9hZCAmJiB0aGlzLmhhc0xpc3RlbmVycygncHJvZ3Jlc3MnKSkge1xuICAgICAgeGhyLnVwbG9hZC5vbnByb2dyZXNzID0gaGFuZGxlUHJvZ3Jlc3M7XG4gICAgfVxuICB9IGNhdGNoKGUpIHtcbiAgICAvLyBBY2Nlc3NpbmcgeGhyLnVwbG9hZCBmYWlscyBpbiBJRSBmcm9tIGEgd2ViIHdvcmtlciwgc28ganVzdCBwcmV0ZW5kIGl0IGRvZXNuJ3QgZXhpc3QuXG4gICAgLy8gUmVwb3J0ZWQgaGVyZTpcbiAgICAvLyBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzgzNzI0NS94bWxodHRwcmVxdWVzdC11cGxvYWQtdGhyb3dzLWludmFsaWQtYXJndW1lbnQtd2hlbi11c2VkLWZyb20td2ViLXdvcmtlci1jb250ZXh0XG4gIH1cblxuICAvLyB0aW1lb3V0XG4gIGlmICh0aW1lb3V0ICYmICF0aGlzLl90aW1lcikge1xuICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgc2VsZi50aW1lZG91dCA9IHRydWU7XG4gICAgICBzZWxmLmFib3J0KCk7XG4gICAgfSwgdGltZW91dCk7XG4gIH1cblxuICAvLyBxdWVyeXN0cmluZ1xuICB0aGlzLl9hcHBlbmRRdWVyeVN0cmluZygpO1xuXG4gIC8vIGluaXRpYXRlIHJlcXVlc3RcbiAgaWYgKHRoaXMudXNlcm5hbWUgJiYgdGhpcy5wYXNzd29yZCkge1xuICAgIHhoci5vcGVuKHRoaXMubWV0aG9kLCB0aGlzLnVybCwgdHJ1ZSwgdGhpcy51c2VybmFtZSwgdGhpcy5wYXNzd29yZCk7XG4gIH0gZWxzZSB7XG4gICAgeGhyLm9wZW4odGhpcy5tZXRob2QsIHRoaXMudXJsLCB0cnVlKTtcbiAgfVxuXG4gIC8vIENPUlNcbiAgaWYgKHRoaXMuX3dpdGhDcmVkZW50aWFscykgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG5cbiAgLy8gYm9keVxuICBpZiAoJ0dFVCcgIT0gdGhpcy5tZXRob2QgJiYgJ0hFQUQnICE9IHRoaXMubWV0aG9kICYmICdzdHJpbmcnICE9IHR5cGVvZiBkYXRhICYmICF0aGlzLl9pc0hvc3QoZGF0YSkpIHtcbiAgICAvLyBzZXJpYWxpemUgc3R1ZmZcbiAgICB2YXIgY29udGVudFR5cGUgPSB0aGlzLl9oZWFkZXJbJ2NvbnRlbnQtdHlwZSddO1xuICAgIHZhciBzZXJpYWxpemUgPSB0aGlzLl9zZXJpYWxpemVyIHx8IHJlcXVlc3Quc2VyaWFsaXplW2NvbnRlbnRUeXBlID8gY29udGVudFR5cGUuc3BsaXQoJzsnKVswXSA6ICcnXTtcbiAgICBpZiAoIXNlcmlhbGl6ZSAmJiBpc0pTT04oY29udGVudFR5cGUpKSBzZXJpYWxpemUgPSByZXF1ZXN0LnNlcmlhbGl6ZVsnYXBwbGljYXRpb24vanNvbiddO1xuICAgIGlmIChzZXJpYWxpemUpIGRhdGEgPSBzZXJpYWxpemUoZGF0YSk7XG4gIH1cblxuICAvLyBzZXQgaGVhZGVyIGZpZWxkc1xuICBmb3IgKHZhciBmaWVsZCBpbiB0aGlzLmhlYWRlcikge1xuICAgIGlmIChudWxsID09IHRoaXMuaGVhZGVyW2ZpZWxkXSkgY29udGludWU7XG4gICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoZmllbGQsIHRoaXMuaGVhZGVyW2ZpZWxkXSk7XG4gIH1cblxuICBpZiAodGhpcy5fcmVzcG9uc2VUeXBlKSB7XG4gICAgeGhyLnJlc3BvbnNlVHlwZSA9IHRoaXMuX3Jlc3BvbnNlVHlwZTtcbiAgfVxuXG4gIC8vIHNlbmQgc3R1ZmZcbiAgdGhpcy5lbWl0KCdyZXF1ZXN0JywgdGhpcyk7XG5cbiAgLy8gSUUxMSB4aHIuc2VuZCh1bmRlZmluZWQpIHNlbmRzICd1bmRlZmluZWQnIHN0cmluZyBhcyBQT1NUIHBheWxvYWQgKGluc3RlYWQgb2Ygbm90aGluZylcbiAgLy8gV2UgbmVlZCBudWxsIGhlcmUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgeGhyLnNlbmQodHlwZW9mIGRhdGEgIT09ICd1bmRlZmluZWQnID8gZGF0YSA6IG51bGwpO1xuICByZXR1cm4gdGhpcztcbn07XG5cblxuLyoqXG4gKiBFeHBvc2UgYFJlcXVlc3RgLlxuICovXG5cbnJlcXVlc3QuUmVxdWVzdCA9IFJlcXVlc3Q7XG5cbi8qKlxuICogR0VUIGB1cmxgIHdpdGggb3B0aW9uYWwgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR8RnVuY3Rpb259IFtkYXRhXSBvciBmblxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5nZXQgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ0dFVCcsIHVybCk7XG4gIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiBkYXRhKSBmbiA9IGRhdGEsIGRhdGEgPSBudWxsO1xuICBpZiAoZGF0YSkgcmVxLnF1ZXJ5KGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBIRUFEIGB1cmxgIHdpdGggb3B0aW9uYWwgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR8RnVuY3Rpb259IFtkYXRhXSBvciBmblxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5oZWFkID0gZnVuY3Rpb24odXJsLCBkYXRhLCBmbil7XG4gIHZhciByZXEgPSByZXF1ZXN0KCdIRUFEJywgdXJsKTtcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIGZuID0gZGF0YSwgZGF0YSA9IG51bGw7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogT1BUSU9OUyBxdWVyeSB0byBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3Qub3B0aW9ucyA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgZm4pe1xuICB2YXIgcmVxID0gcmVxdWVzdCgnT1BUSU9OUycsIHVybCk7XG4gIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiBkYXRhKSBmbiA9IGRhdGEsIGRhdGEgPSBudWxsO1xuICBpZiAoZGF0YSkgcmVxLnNlbmQoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuXG4vKipcbiAqIERFTEVURSBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBkZWwodXJsLCBmbil7XG4gIHZhciByZXEgPSByZXF1ZXN0KCdERUxFVEUnLCB1cmwpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxucmVxdWVzdFsnZGVsJ10gPSBkZWw7XG5yZXF1ZXN0WydkZWxldGUnXSA9IGRlbDtcblxuLyoqXG4gKiBQQVRDSCBgdXJsYCB3aXRoIG9wdGlvbmFsIGBkYXRhYCBhbmQgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR9IFtkYXRhXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5wYXRjaCA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgZm4pe1xuICB2YXIgcmVxID0gcmVxdWVzdCgnUEFUQ0gnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgZm4gPSBkYXRhLCBkYXRhID0gbnVsbDtcbiAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBQT1NUIGB1cmxgIHdpdGggb3B0aW9uYWwgYGRhdGFgIGFuZCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZH0gW2RhdGFdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0LnBvc3QgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ1BPU1QnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgZm4gPSBkYXRhLCBkYXRhID0gbnVsbDtcbiAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBQVVQgYHVybGAgd2l0aCBvcHRpb25hbCBgZGF0YWAgYW5kIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QucHV0ID0gZnVuY3Rpb24odXJsLCBkYXRhLCBmbil7XG4gIHZhciByZXEgPSByZXF1ZXN0KCdQVVQnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgZm4gPSBkYXRhLCBkYXRhID0gbnVsbDtcbiAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcbiIsIi8qKlxuICogQ2hlY2sgaWYgYG9iamAgaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgcmV0dXJuIG51bGwgIT09IG9iaiAmJiAnb2JqZWN0JyA9PT0gdHlwZW9mIG9iajtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdDtcbiIsIi8qKlxuICogTW9kdWxlIG9mIG1peGVkLWluIGZ1bmN0aW9ucyBzaGFyZWQgYmV0d2VlbiBub2RlIGFuZCBjbGllbnQgY29kZVxuICovXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzLW9iamVjdCcpO1xuXG4vKipcbiAqIENsZWFyIHByZXZpb3VzIHRpbWVvdXQuXG4gKlxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuY2xlYXJUaW1lb3V0ID0gZnVuY3Rpb24gX2NsZWFyVGltZW91dCgpe1xuICB0aGlzLl90aW1lb3V0ID0gMDtcbiAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIE92ZXJyaWRlIGRlZmF1bHQgcmVzcG9uc2UgYm9keSBwYXJzZXJcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHRvIGNvbnZlcnQgaW5jb21pbmcgZGF0YSBpbnRvIHJlcXVlc3QuYm9keVxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMucGFyc2UgPSBmdW5jdGlvbiBwYXJzZShmbil7XG4gIHRoaXMuX3BhcnNlciA9IGZuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogT3ZlcnJpZGUgZGVmYXVsdCByZXF1ZXN0IGJvZHkgc2VyaWFsaXplclxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgdG8gY29udmVydCBkYXRhIHNldCB2aWEgLnNlbmQgb3IgLmF0dGFjaCBpbnRvIHBheWxvYWQgdG8gc2VuZFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuc2VyaWFsaXplID0gZnVuY3Rpb24gc2VyaWFsaXplKGZuKXtcbiAgdGhpcy5fc2VyaWFsaXplciA9IGZuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IHRpbWVvdXQgdG8gYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnRpbWVvdXQgPSBmdW5jdGlvbiB0aW1lb3V0KG1zKXtcbiAgdGhpcy5fdGltZW91dCA9IG1zO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUHJvbWlzZSBzdXBwb3J0XG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0XG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICovXG5cbmV4cG9ydHMudGhlbiA9IGZ1bmN0aW9uIHRoZW4ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gIGlmICghdGhpcy5fZnVsbGZpbGxlZFByb21pc2UpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5fZnVsbGZpbGxlZFByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihpbm5lclJlc29sdmUsIGlubmVyUmVqZWN0KXtcbiAgICAgIHNlbGYuZW5kKGZ1bmN0aW9uKGVyciwgcmVzKXtcbiAgICAgICAgaWYgKGVycikgaW5uZXJSZWplY3QoZXJyKTsgZWxzZSBpbm5lclJlc29sdmUocmVzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB0aGlzLl9mdWxsZmlsbGVkUHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG59XG5cbi8qKlxuICogQWxsb3cgZm9yIGV4dGVuc2lvblxuICovXG5cbmV4cG9ydHMudXNlID0gZnVuY3Rpb24gdXNlKGZuKSB7XG4gIGZuKHRoaXMpO1xuICByZXR1cm4gdGhpcztcbn1cblxuXG4vKipcbiAqIEdldCByZXF1ZXN0IGhlYWRlciBgZmllbGRgLlxuICogQ2FzZS1pbnNlbnNpdGl2ZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZmllbGRcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5nZXQgPSBmdW5jdGlvbihmaWVsZCl7XG4gIHJldHVybiB0aGlzLl9oZWFkZXJbZmllbGQudG9Mb3dlckNhc2UoKV07XG59O1xuXG4vKipcbiAqIEdldCBjYXNlLWluc2Vuc2l0aXZlIGhlYWRlciBgZmllbGRgIHZhbHVlLlxuICogVGhpcyBpcyBhIGRlcHJlY2F0ZWQgaW50ZXJuYWwgQVBJLiBVc2UgYC5nZXQoZmllbGQpYCBpbnN0ZWFkLlxuICpcbiAqIChnZXRIZWFkZXIgaXMgbm8gbG9uZ2VyIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgc3VwZXJhZ2VudCBjb2RlIGJhc2UpXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqIEBkZXByZWNhdGVkXG4gKi9cblxuZXhwb3J0cy5nZXRIZWFkZXIgPSBleHBvcnRzLmdldDtcblxuLyoqXG4gKiBTZXQgaGVhZGVyIGBmaWVsZGAgdG8gYHZhbGAsIG9yIG11bHRpcGxlIGZpZWxkcyB3aXRoIG9uZSBvYmplY3QuXG4gKiBDYXNlLWluc2Vuc2l0aXZlLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgcmVxLmdldCgnLycpXG4gKiAgICAgICAgLnNldCgnQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKVxuICogICAgICAgIC5zZXQoJ1gtQVBJLUtleScsICdmb29iYXInKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqICAgICAgcmVxLmdldCgnLycpXG4gKiAgICAgICAgLnNldCh7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLCAnWC1BUEktS2V5JzogJ2Zvb2JhcicgfSlcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGZpZWxkXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5zZXQgPSBmdW5jdGlvbihmaWVsZCwgdmFsKXtcbiAgaWYgKGlzT2JqZWN0KGZpZWxkKSkge1xuICAgIGZvciAodmFyIGtleSBpbiBmaWVsZCkge1xuICAgICAgdGhpcy5zZXQoa2V5LCBmaWVsZFtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdGhpcy5faGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldID0gdmFsO1xuICB0aGlzLmhlYWRlcltmaWVsZF0gPSB2YWw7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgaGVhZGVyIGBmaWVsZGAuXG4gKiBDYXNlLWluc2Vuc2l0aXZlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgICByZXEuZ2V0KCcvJylcbiAqICAgICAgICAudW5zZXQoJ1VzZXItQWdlbnQnKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICovXG5leHBvcnRzLnVuc2V0ID0gZnVuY3Rpb24oZmllbGQpe1xuICBkZWxldGUgdGhpcy5faGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldO1xuICBkZWxldGUgdGhpcy5oZWFkZXJbZmllbGRdO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogV3JpdGUgdGhlIGZpZWxkIGBuYW1lYCBhbmQgYHZhbGAgZm9yIFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiXG4gKiByZXF1ZXN0IGJvZGllcy5cbiAqXG4gKiBgYGAganNcbiAqIHJlcXVlc3QucG9zdCgnL3VwbG9hZCcpXG4gKiAgIC5maWVsZCgnZm9vJywgJ2JhcicpXG4gKiAgIC5lbmQoY2FsbGJhY2spO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfEJsb2J8RmlsZXxCdWZmZXJ8ZnMuUmVhZFN0cmVhbX0gdmFsXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydHMuZmllbGQgPSBmdW5jdGlvbihuYW1lLCB2YWwpIHtcbiAgdGhpcy5fZ2V0Rm9ybURhdGEoKS5hcHBlbmQobmFtZSwgdmFsKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFib3J0IHRoZSByZXF1ZXN0LCBhbmQgY2xlYXIgcG90ZW50aWFsIHRpbWVvdXQuXG4gKlxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydHMuYWJvcnQgPSBmdW5jdGlvbigpe1xuICBpZiAodGhpcy5fYWJvcnRlZCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHRoaXMuX2Fib3J0ZWQgPSB0cnVlO1xuICB0aGlzLnhociAmJiB0aGlzLnhoci5hYm9ydCgpOyAvLyBicm93c2VyXG4gIHRoaXMucmVxICYmIHRoaXMucmVxLmFib3J0KCk7IC8vIG5vZGVcbiAgdGhpcy5jbGVhclRpbWVvdXQoKTtcbiAgdGhpcy5lbWl0KCdhYm9ydCcpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRW5hYmxlIHRyYW5zbWlzc2lvbiBvZiBjb29raWVzIHdpdGggeC1kb21haW4gcmVxdWVzdHMuXG4gKlxuICogTm90ZSB0aGF0IGZvciB0aGlzIHRvIHdvcmsgdGhlIG9yaWdpbiBtdXN0IG5vdCBiZVxuICogdXNpbmcgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiB3aXRoIGEgd2lsZGNhcmQsXG4gKiBhbmQgYWxzbyBtdXN0IHNldCBcIkFjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzXCJcbiAqIHRvIFwidHJ1ZVwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy53aXRoQ3JlZGVudGlhbHMgPSBmdW5jdGlvbigpe1xuICAvLyBUaGlzIGlzIGJyb3dzZXItb25seSBmdW5jdGlvbmFsaXR5LiBOb2RlIHNpZGUgaXMgbm8tb3AuXG4gIHRoaXMuX3dpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIG1heCByZWRpcmVjdHMgdG8gYG5gLiBEb2VzIG5vdGluZyBpbiBicm93c2VyIFhIUiBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gblxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMucmVkaXJlY3RzID0gZnVuY3Rpb24obil7XG4gIHRoaXMuX21heFJlZGlyZWN0cyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0IHRvIGEgcGxhaW4gamF2YXNjcmlwdCBvYmplY3QgKG5vdCBKU09OIHN0cmluZykgb2Ygc2NhbGFyIHByb3BlcnRpZXMuXG4gKiBOb3RlIGFzIHRoaXMgbWV0aG9kIGlzIGRlc2lnbmVkIHRvIHJldHVybiBhIHVzZWZ1bCBub24tdGhpcyB2YWx1ZSxcbiAqIGl0IGNhbm5vdCBiZSBjaGFpbmVkLlxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gZGVzY3JpYmluZyBtZXRob2QsIHVybCwgYW5kIGRhdGEgb2YgdGhpcyByZXF1ZXN0XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMudG9KU09OID0gZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHtcbiAgICBtZXRob2Q6IHRoaXMubWV0aG9kLFxuICAgIHVybDogdGhpcy51cmwsXG4gICAgZGF0YTogdGhpcy5fZGF0YSxcbiAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJcbiAgfTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYG9iamAgaXMgYSBob3N0IG9iamVjdCxcbiAqIHdlIGRvbid0IHdhbnQgdG8gc2VyaWFsaXplIHRoZXNlIDopXG4gKlxuICogVE9ETzogZnV0dXJlIHByb29mLCBtb3ZlIHRvIGNvbXBvZW50IGxhbmRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5faXNIb3N0ID0gZnVuY3Rpb24gX2lzSG9zdChvYmopIHtcbiAgdmFyIHN0ciA9IHt9LnRvU3RyaW5nLmNhbGwob2JqKTtcblxuICBzd2l0Y2ggKHN0cikge1xuICAgIGNhc2UgJ1tvYmplY3QgRmlsZV0nOlxuICAgIGNhc2UgJ1tvYmplY3QgQmxvYl0nOlxuICAgIGNhc2UgJ1tvYmplY3QgRm9ybURhdGFdJzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBTZW5kIGBkYXRhYCBhcyB0aGUgcmVxdWVzdCBib2R5LCBkZWZhdWx0aW5nIHRoZSBgLnR5cGUoKWAgdG8gXCJqc29uXCIgd2hlblxuICogYW4gb2JqZWN0IGlzIGdpdmVuLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgIC8vIG1hbnVhbCBqc29uXG4gKiAgICAgICByZXF1ZXN0LnBvc3QoJy91c2VyJylcbiAqICAgICAgICAgLnR5cGUoJ2pzb24nKVxuICogICAgICAgICAuc2VuZCgne1wibmFtZVwiOlwidGpcIn0nKVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIGF1dG8ganNvblxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC5zZW5kKHsgbmFtZTogJ3RqJyB9KVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIG1hbnVhbCB4LXd3dy1mb3JtLXVybGVuY29kZWRcbiAqICAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgICAudHlwZSgnZm9ybScpXG4gKiAgICAgICAgIC5zZW5kKCduYW1lPXRqJylcbiAqICAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiAgICAgICAvLyBhdXRvIHgtd3d3LWZvcm0tdXJsZW5jb2RlZFxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC50eXBlKCdmb3JtJylcbiAqICAgICAgICAgLnNlbmQoeyBuYW1lOiAndGonIH0pXG4gKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICogICAgICAgLy8gZGVmYXVsdHMgdG8geC13d3ctZm9ybS11cmxlbmNvZGVkXG4gKiAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgIC5zZW5kKCduYW1lPXRvYmknKVxuICogICAgICAgIC5zZW5kKCdzcGVjaWVzPWZlcnJldCcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGRhdGFcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnNlbmQgPSBmdW5jdGlvbihkYXRhKXtcbiAgdmFyIG9iaiA9IGlzT2JqZWN0KGRhdGEpO1xuICB2YXIgdHlwZSA9IHRoaXMuX2hlYWRlclsnY29udGVudC10eXBlJ107XG5cbiAgLy8gbWVyZ2VcbiAgaWYgKG9iaiAmJiBpc09iamVjdCh0aGlzLl9kYXRhKSkge1xuICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICB0aGlzLl9kYXRhW2tleV0gPSBkYXRhW2tleV07XG4gICAgfVxuICB9IGVsc2UgaWYgKCdzdHJpbmcnID09IHR5cGVvZiBkYXRhKSB7XG4gICAgLy8gZGVmYXVsdCB0byB4LXd3dy1mb3JtLXVybGVuY29kZWRcbiAgICBpZiAoIXR5cGUpIHRoaXMudHlwZSgnZm9ybScpO1xuICAgIHR5cGUgPSB0aGlzLl9oZWFkZXJbJ2NvbnRlbnQtdHlwZSddO1xuICAgIGlmICgnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyA9PSB0eXBlKSB7XG4gICAgICB0aGlzLl9kYXRhID0gdGhpcy5fZGF0YVxuICAgICAgICA/IHRoaXMuX2RhdGEgKyAnJicgKyBkYXRhXG4gICAgICAgIDogZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZGF0YSA9ICh0aGlzLl9kYXRhIHx8ICcnKSArIGRhdGE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICB9XG5cbiAgaWYgKCFvYmogfHwgdGhpcy5faXNIb3N0KGRhdGEpKSByZXR1cm4gdGhpcztcblxuICAvLyBkZWZhdWx0IHRvIGpzb25cbiAgaWYgKCF0eXBlKSB0aGlzLnR5cGUoJ2pzb24nKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuIiwiLy8gVGhlIG5vZGUgYW5kIGJyb3dzZXIgbW9kdWxlcyBleHBvc2UgdmVyc2lvbnMgb2YgdGhpcyB3aXRoIHRoZVxuLy8gYXBwcm9wcmlhdGUgY29uc3RydWN0b3IgZnVuY3Rpb24gYm91bmQgYXMgZmlyc3QgYXJndW1lbnRcbi8qKlxuICogSXNzdWUgYSByZXF1ZXN0OlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgIHJlcXVlc3QoJ0dFVCcsICcvdXNlcnMnKS5lbmQoY2FsbGJhY2spXG4gKiAgICByZXF1ZXN0KCcvdXNlcnMnKS5lbmQoY2FsbGJhY2spXG4gKiAgICByZXF1ZXN0KCcvdXNlcnMnLCBjYWxsYmFjaylcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gdXJsIG9yIGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiByZXF1ZXN0KFJlcXVlc3RDb25zdHJ1Y3RvciwgbWV0aG9kLCB1cmwpIHtcbiAgLy8gY2FsbGJhY2tcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIHVybCkge1xuICAgIHJldHVybiBuZXcgUmVxdWVzdENvbnN0cnVjdG9yKCdHRVQnLCBtZXRob2QpLmVuZCh1cmwpO1xuICB9XG5cbiAgLy8gdXJsIGZpcnN0XG4gIGlmICgyID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3RDb25zdHJ1Y3RvcignR0VUJywgbWV0aG9kKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUmVxdWVzdENvbnN0cnVjdG9yKG1ldGhvZCwgdXJsKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1ZXN0O1xuIiwiXHJcbi8qKlxyXG4gKiBFeHBvc2UgYEVtaXR0ZXJgLlxyXG4gKi9cclxuXHJcbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xyXG4gIG1vZHVsZS5leHBvcnRzID0gRW1pdHRlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemUgYSBuZXcgYEVtaXR0ZXJgLlxyXG4gKlxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIEVtaXR0ZXIob2JqKSB7XHJcbiAgaWYgKG9iaikgcmV0dXJuIG1peGluKG9iaik7XHJcbn07XHJcblxyXG4vKipcclxuICogTWl4aW4gdGhlIGVtaXR0ZXIgcHJvcGVydGllcy5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IG9ialxyXG4gKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAqIEBhcGkgcHJpdmF0ZVxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIG1peGluKG9iaikge1xyXG4gIGZvciAodmFyIGtleSBpbiBFbWl0dGVyLnByb3RvdHlwZSkge1xyXG4gICAgb2JqW2tleV0gPSBFbWl0dGVyLnByb3RvdHlwZVtrZXldO1xyXG4gIH1cclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG4vKipcclxuICogTGlzdGVuIG9uIHRoZSBnaXZlbiBgZXZlbnRgIHdpdGggYGZuYC5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUub24gPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcbiAgKHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdKVxyXG4gICAgLnB1c2goZm4pO1xyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEFkZHMgYW4gYGV2ZW50YCBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgaW52b2tlZCBhIHNpbmdsZVxyXG4gKiB0aW1lIHRoZW4gYXV0b21hdGljYWxseSByZW1vdmVkLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcclxuICBmdW5jdGlvbiBvbigpIHtcclxuICAgIHRoaXMub2ZmKGV2ZW50LCBvbik7XHJcbiAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgb24uZm4gPSBmbjtcclxuICB0aGlzLm9uKGV2ZW50LCBvbik7XHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogUmVtb3ZlIHRoZSBnaXZlbiBjYWxsYmFjayBmb3IgYGV2ZW50YCBvciBhbGxcclxuICogcmVnaXN0ZXJlZCBjYWxsYmFja3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxyXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLm9mZiA9XHJcbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cclxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cclxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XHJcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xyXG5cclxuICAvLyBhbGxcclxuICBpZiAoMCA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLy8gc3BlY2lmaWMgZXZlbnRcclxuICB2YXIgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuICBpZiAoIWNhbGxiYWNrcykgcmV0dXJuIHRoaXM7XHJcblxyXG4gIC8vIHJlbW92ZSBhbGwgaGFuZGxlcnNcclxuICBpZiAoMSA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLy8gcmVtb3ZlIHNwZWNpZmljIGhhbmRsZXJcclxuICB2YXIgY2I7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuICAgIGNiID0gY2FsbGJhY2tzW2ldO1xyXG4gICAgaWYgKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pIHtcclxuICAgICAgY2FsbGJhY2tzLnNwbGljZShpLCAxKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEVtaXQgYGV2ZW50YCB3aXRoIHRoZSBnaXZlbiBhcmdzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtNaXhlZH0gLi4uXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKGV2ZW50KXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcbiAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSlcclxuICAgICwgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuXHJcbiAgaWYgKGNhbGxiYWNrcykge1xyXG4gICAgY2FsbGJhY2tzID0gY2FsbGJhY2tzLnNsaWNlKDApO1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xyXG4gICAgICBjYWxsYmFja3NbaV0uYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gYXJyYXkgb2YgY2FsbGJhY2tzIGZvciBgZXZlbnRgLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHJldHVybiB7QXJyYXl9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnQpe1xyXG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuICByZXR1cm4gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiB0aGlzIGVtaXR0ZXIgaGFzIGBldmVudGAgaGFuZGxlcnMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLmhhc0xpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcclxuICByZXR1cm4gISEgdGhpcy5saXN0ZW5lcnMoZXZlbnQpLmxlbmd0aDtcclxufTtcclxuIiwibW9kdWxlLmV4cG9ydHM9e1xuICBcIm5hbWVcIjogXCJ2aHhqc1wiLFxuICBcInZlcnNpb25cIjogXCIxLjAuMC1iZXRhLjJcIixcbiAgXCJkZXNjcmlwdGlvblwiOiBcIlZIWCBKYXZhc2NyaXB0IEFQSSBDbGllbnRcIixcbiAgXCJtYWluXCI6IFwidmh4LmpzXCIsXG4gIFwiYXV0aG9yXCI6IFwiVkhYXCIsXG4gIFwiaG9tZXBhZ2VcIjogXCJodHRwczovL2dpdGh1Yi5jb20vdmh4L3ZoeC1ub2RlXCIsXG4gIFwiY29udHJpYnV0b3JzXCI6IFtcIkRhdmlkIEdvbnphbGV6IDxkYXZpZEB2aHgudHY+IFwiLCBcIlNjb3R0IFJvYmVydHNvbiA8c2NvdHRAdmh4LnR2PlwiXSxcbiAgXCJsaWNlbnNlXCI6IFwiTUlUXCIsXG4gIFwicmVwb3NpdG9yeVwiOiB7XG4gICAgXCJ0eXBlXCI6IFwiZ2l0XCIsXG4gICAgXCJ1cmxcIjogXCJnaXQ6Ly9naXRodWIuY29tL3ZoeC92aHgtanMuZ2l0XCJcbiAgfSxcbiAgXCJidWdzOlwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS92aHgvdmh4LWpzL2lzc3Vlc1wiLFxuICBcImRldkRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJiYWJlbC1jbGlcIjogXCJeNi4xMS40XCIsXG4gICAgXCJiYWJlbC1wcmVzZXQtZXMyMDE1XCI6IFwiXjYuOS4wXCIsXG4gICAgXCJiYWJlbGlmeVwiOiBcIl43LjMuMFwiLFxuICAgIFwiYnJvd3NlcmlmeVwiOiBcIl4xMy4xLjBcIixcbiAgICBcImd1bHBcIjogXCJeMy45LjFcIixcbiAgICBcImd1bHAtYmFiZWxcIjogXCJeNi4xLjJcIixcbiAgICBcImd1bHAtYnJvd3NlcmlmeVwiOiBcIl4wLjUuMVwiLFxuICAgIFwiZ3VscC1saXZlcmVsb2FkXCI6IFwiXjMuOC4xXCIsXG4gICAgXCJndWxwLXNvdXJjZW1hcHNcIjogXCJeMS42LjBcIixcbiAgICBcImd1bHAtdWdsaWZ5XCI6IFwiXjEuNS40XCIsXG4gICAgXCJzdXBlcmFnZW50XCI6IFwiXjIuMS4wXCIsXG4gICAgXCJ2aW55bC1idWZmZXJcIjogXCJeMS4wLjBcIixcbiAgICBcInZpbnlsLXNvdXJjZS1zdHJlYW1cIjogXCJeMS4xLjBcIlxuICB9XG59XG4iXX0=\n"],"sourceRoot":"/source/"}