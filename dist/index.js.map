{"version":3,"file":"index.js","sources":["../lib/config.js","../lib/utils.js","../lib/urlHelpers.js","../lib/resource.js","../lib/resources/collections.js","../lib/resources/videos.js","../lib/resources/customers.js","../lib/resources/browse.js","../lib/resources/products.js","../lib/resources/analytics.js","../lib/vhx.js"],"sourcesContent":["const ApiConfig = {\n  HOST: 'api.vhx.tv',\n  PROTOCOL: 'https://',\n  TIMEOUT: '30000'\n};\n\nexport default ApiConfig;","export function getMethod(params) {\n  return isObject(params) && params.method ?\n          params.method :\n          params;\n}\n\nexport function isHref(params) {\n  return isNaN(parseInt(params, 10));\n}\n\nexport function isObject(obj) {\n  const type = typeof obj;\n  return type === 'function' || type === 'object' && !!obj;\n}\n\nexport function isFunction(obj) {\n  return !!(obj && obj.constructor && obj.call && obj.apply);\n}","import {\n  isHref,\n  isFunction,\n  isObject,\n} from './utils';\n\nexport function generateUrl(params, resource, options) {\n  if (resource.path === 'products') {\n    return createUrlWithStandardEndpoints(params, resource);\n  }\n\n  if (resource.path === 'videos') {\n    return createUrlWithCustomEndpoints(params, resource, options);\n  }\n\n  if (resource.path === 'collections') {\n    return createUrlWithCustomEndpoints(params, resource, options);\n  }\n\n  if (resource.path === 'customers') {\n    return createUrlWithCustomEndpoints(params, resource, options);\n  }\n\n  if (resource.path === 'browse') {\n    return handleBrowseEndpoint(params, resource);\n  }\n\n  return returnDefaultHref(resource);\n};\n\nconst handleBrowseEndpoint = (params, resource) => {\n\n  if (isObject(params)) {\n    return `${resource._api.protocol}${resource._api.host}/${resource.path}`;\n  }\n\n  return `${resource._api.protocol}${resource._api.host}/${resource.path}?product=${params}`;\n};\n\nconst createUrlWithCustomEndpoints = (params, resource, options) => {\n  if (options && options.scope) {\n    if (isHref(params)) {\n      return `${params}/${options.scope}`;\n    }\n\n    return `${resource._api.protocol}${resource._api.host}/${resource.path}/${params}/${options.scope}`;\n  }\n\n  if (params && isHref(params) && !isFunction(params)) {\n    return params;\n  }\n\n  if (params && !isFunction(params)) {\n    return `${resource._api.protocol}${resource._api.host}/${resource.path}/${params}`;\n  }\n\n  return returnDefaultHref(resource);\n}\n\nconst returnDefaultHref = (resource) => {\n  return `${resource._api.protocol}${resource._api.host}/${resource.path}`;\n}\n\nconst createUrlWithStandardEndpoints = (params, resource) => {\n  if (isHref(params) && !isFunction(params)) {\n    return params;\n  }\n\n  if (!isFunction(params)) {\n    return `${resource._api.protocol}${resource._api.host}/${resource.path}/${params}`;\n  }\n\n  return returnDefaultHref(resource);\n}\n\n\n\n","import request from 'superagent';\nimport { generateUrl } from './urlHelpers';\nimport {\n  getMethod,\n  isObject,\n  isFunction,\n} from './utils';\n\nclass Resource {\n  constructor(api, path, methods, isToken) {\n    this._api    = api;\n    this.methods = methods;\n    this.path    = path;\n\n    this.init();\n  }\n\n  init() {\n    this.methods.forEach((item) => {\n      const method = getMethod(item);\n      const params = {\n        http_method: 'get', // superagent reads 'get' not 'GET'\n        client_method: method\n      };\n\n      if (method.match(/files|items|watching|watchlist/)) {\n        params.scope = item;\n      }\n\n      this[method] = (options, callback) => {\n        params.url = generateUrl(options, this, params);\n        params.options = options;\n\n        if (isFunction(options)) {\n         params.callback = options;\n        } else {\n          params.callback = callback;\n        }\n\n        return this.createRequestParams(params);\n      };\n    });\n  }\n\n  getParams(client_method, url, options, scope, type) {\n    const params = {\n      timeout : this._api.timeout,\n      method  : client_method,\n      url     : url,\n    };\n\n    if (isObject(options)) {\n      params.qs = options || null;\n    }\n\n    if (this._api.auth) {\n      params.headers = {\n        'Authorization': this._api.auth\n      };\n    }\n\n    if (this._api.internal) {\n      params.headers = {\n        'Authorization': 'Bearer ' + this._api.token\n      }\n    }\n\n    return params;\n  }\n\n  createRequestParams(args) {\n    const params = this.getParams(args.client_method, args.url, args.options, args.scope, args.read_only);\n\n    if (isFunction(args.options)) {\n      args.callback = args.options;\n    }\n\n    return this.ajaxRequest(args, params);\n  }\n\n  parseJSON(response) {\n    return new Promise(resolve => response\n      .then(json => resolve({\n        status: response.status,\n        ok: response.ok,\n        json,\n      })));\n  }\n\n  ajaxRequest(args, params) {\n    const promise = new Promise((resolve, reject) => {\n      const req = () => {\n        request[args.http_method](params.url)\n          .withCredentials()\n          .set(params.headers || {})\n          .set('Content-Type', 'application/json')\n          .query(params.qs)\n          .then(response => response)\n          .then((response) => {\n            if (response.ok) {\n              resolve(response.body)\n            }\n\n            reject(response);\n          })\n          .catch((err) => console.log(err));\n      }\n\n      return req();\n    });\n\n    return promise;\n  }\n\n  successHandler(args) {\n    const response = args.body;\n\n    // TODO: rebuild built-in pagination methods\n    // if (args.body.count && args.body.count < args.body.total) {\n    //   response = new paginate(this, args).get();\n    // }\n\n    response.object = args.object;\n\n    if (args.callback) {\n      args.callback(false, response);\n    }\n  }\n\n  errorHandler(args) {\n    // TODO: consider better error messaging\n    const error = JSON.parse(args.body);\n    const error_types = {\n      400: 'VHXInvalidRequestError',\n      401: 'VHXAuthenticationError',\n      404: 'VHXResourceNotFound',\n      408: 'VHXConnectionError',\n      500: 'VHXAPIError'\n    };\n\n    error.status = args.status;\n    error.type = error_types[error.status];\n\n    if (args.callback) {\n      args.callback(error, null);\n    }\n  }\n};\n\nexport default Resource;\n","import Resource from '../resource';\n\nclass Collection extends Resource {\n  constructor(api) {\n    super(api, 'collections', ['all', 'retrieve', 'items']);\n  }\n};\n\nexport default Collection;\n","import Resource from '../resource';\n\nclass Video extends Resource {\n  constructor(api) {\n    super(api, 'videos', ['all', 'retrieve', 'files']);\n  }\n};\n\nexport default Video;\n","import Resource from '../resource';\n\nclass Customer extends Resource {\n  constructor(api) {\n    super(api, 'customers', ['retrieve', 'all', 'watching', 'watchlist']);\n  }\n};\n\nexport default Customer;\n","import Resource from '../resource';\n\nclass Browse extends Resource {\n  constructor(api) {\n    super(api, 'browse', ['list']);\n  }\n};\n\nexport default Browse;\n","import Resource from '../resource';\n\nclass Product extends Resource {\n  constructor(api) {\n    super(api, 'products', ['retrieve', 'all']);\n  }\n};\n\nexport default Product;\n","import Resource from '../resource';\n\nclass Analytics extends Resource {\n  constructor(api) {\n    super(api, 'analytics', ['retrieve']);\n  }\n};\n\nexport default Analytics;\n","import ApiConfig from './config';\nimport Collection from './resources/collections';\nimport Video from './resources/videos';\nimport Customer from './resources/customers';\nimport Browse from './resources/browse';\nimport Product from './resources/products';\nimport Analytics from './resources/analytics';\n\nconst resources = {\n  products    : Product,\n  browse      : Browse,\n  videos      : Video,\n  collections : Collection,\n  customers   : Customer,\n  analytics   : Analytics\n};\n\nif (typeof btoa === 'undefined') {\n  global.btoa = function(str) {\n    return new Buffer(str).toString('base64');\n  }\n}\n\nclass VhxApi {\n  constructor(key, opts={}) {\n    this.api = opts.internal ? this.setToken(key, opts) : this.setApi(key, opts);\n\n    this.prepareResources();\n  }\n\n  setApi(key, opts = {}) {\n    return {\n      auth: 'Basic ' + btoa(key),\n      host: opts.host || ApiConfig.HOST,\n      protocol: opts.protocol || ApiConfig.PROTOCOL,\n      timeout: ApiConfig.TIMEOUT,\n      token_expiration: null\n    };\n  }\n\n  setToken(key, opts = {}) {\n    return {\n      token: key,\n      host: opts.host || ApiConfig.HOST,\n      protocol: opts.protocol || ApiConfig.PROTOCOL,\n      timeout: ApiConfig.TIMEOUT,\n      token_expiration: TOKEN_EXPIRES_IN,\n      internal: true\n    };\n  }\n\n  prepareResources() {\n    for (const name in resources) {\n      this[name[0].toLowerCase() + name.substring(1)] = new resources[name](this.api);\n    }\n  }\n}\n\nexport default VhxApi;"],"names":["const","this","super"],"mappings":"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"}